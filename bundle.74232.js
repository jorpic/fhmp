!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/fhmp/",e(e.s="mdyV")}({"2zjJ":function(){},"4dxh":function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a=I;for(o=arguments.length;o-- >2;)P.push(arguments[o]);for(e&&null!=e.children&&(P.length||P.push(e.children),delete e.children);P.length;)if((r=P.pop())&&void 0!==r.pop)for(o=r.length;o--;)P.push(r[o]);else"boolean"==typeof r&&(r=null),(i="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(i=!1)),i&&n?a[a.length-1]+=r:a===I?a=[r]:a.push(r),n=i;var s=new A;return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==E.vnode&&E.vnode(s),s}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function a(t,e){return r(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t){!t._dirty&&(t._dirty=!0)&&1==D.push(t)&&(E.debounceRendering||T)(u)}function u(){for(var t;t=D.pop();)t._dirty&&k(t)}function c(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&l(t,e.nodeName):n||t._componentConstructor===e.nodeName}function l(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function f(t){var e=i({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)o(n,null),o(r,t);else if("class"!==e||i)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"==typeof r[a]&&!1===R.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,d,s):t.removeEventListener(e,d,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var u=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function d(t){return this._listeners[t.type](E.event&&E.event(t)||t)}function v(){for(var t;t=N.shift();)E.afterMount&&E.afterMount(t),t.componentDidMount&&t.componentDidMount()}function g(t,e,n,r,i,o){M++||(L=null!=i&&void 0!==i.ownerSVGElement,U=null!=t&&!("__preactattr_"in t));var a=m(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--M||(U=!1,o||v()),a}function m(t,e,n,r,i){var o=t,a=L;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),b(t,!0))),o.__preactattr_=!0,o;var s,u,d=e.nodeName;if("function"==typeof d)return function(t,e,n,r){var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,u=s,c=f(e);for(;i&&!u&&(i=i._parentComponent);)u=i.constructor===e.nodeName;i&&u&&(!r||i._component)?(x(i,c,3,n,r),t=i.base):(o&&!s&&(O(o),t=a=null),i=w(e.nodeName,c,n),t&&!i.nextBase&&(i.nextBase=t,a=null),x(i,c,1,n,r),t=i.base,a&&t!==a&&(a._component=null,b(a,!1)));return t}(t,e,n,r);if(L="svg"===d||"foreignObject"!==d&&L,d=String(d),(!t||!l(t,d))&&(s=d,(u=L?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,o=u,t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),b(t,!0)}var v=o.firstChild,g=o.__preactattr_,y=e.children;if(null==g){g=o.__preactattr_={};for(var _=o.attributes,k=_.length;k--;)g[_[k].name]=_[k].value}return!U&&y&&1===y.length&&"string"==typeof y[0]&&null!=v&&void 0!==v.splitText&&null==v.nextSibling?v.nodeValue!=y[0]&&(v.nodeValue=y[0]):(y&&y.length||null!=v)&&function(t,e,n,r,i){var o,a,s,u,l,f=t.childNodes,p=[],d={},v=0,g=0,y=f.length,w=0,_=e?e.length:0;if(0!==y)for(var x=0;x<y;x++){var k=f[x],O=k.__preactattr_,S=_&&O?k._component?k._component.__key:O.key:null;null!=S?(v++,d[S]=k):(O||(void 0!==k.splitText?!i||k.nodeValue.trim():i))&&(p[w++]=k)}if(0!==_)for(var x=0;x<_;x++){l=null;var S=(u=e[x]).key;if(null!=S)v&&void 0!==d[S]&&(l=d[S],d[S]=void 0,v--);else if(g<w)for(o=g;o<w;o++)if(void 0!==p[o]&&c(a=p[o],u,i)){l=a,p[o]=void 0,o===w-1&&w--,o===g&&g++;break}l=m(l,u,n,r),s=f[x],l&&l!==t&&l!==s&&(null==s?t.appendChild(l):l===s.nextSibling?h(s):t.insertBefore(l,s))}if(v)for(var x in d)void 0!==d[x]&&b(d[x],!1);for(;g<=w;)void 0!==(l=p[w--])&&b(l,!1)}(o,y,n,r,U||null!=g.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||p(t,r,n[r],n[r]=void 0,L);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||p(t,r,n[r],n[r]=e[r],L)}(o,e.attributes,g),L=a,o}function b(t,e){var n=t._component;n?O(n):(null!=t.__preactattr_&&o(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||h(t),y(t))}function y(t){for(t=t.lastChild;t;){var e=t.previousSibling;b(t,!0),t=e}}function w(t,e,n){var r,i=$.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),S.call(r,e,n)):((r=new S(e,n)).constructor=t,r.render=_);i--;)if($[i].constructor===t)return r.nextBase=$[i].nextBase,$.splice(i,1),r;return r}function _(t,e,n){return this.constructor(t,n)}function x(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===E.syncComponentUpdates&&t.base?s(t):k(t,1,i)),o(t.__ref,t))}function k(t,e,n,r){if(!t._disable){var o,a,s,u=t.props,c=t.state,l=t.context,h=t.prevProps||u,p=t.prevState||c,d=t.prevContext||l,m=t.base,y=t.nextBase,_=m||y,S=t._component,j=!1,C=d;if(t.constructor.getDerivedStateFromProps&&(c=i(i({},c),t.constructor.getDerivedStateFromProps(u,c)),t.state=c),m&&(t.props=h,t.state=p,t.context=d,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(u,c,l)?j=!0:t.componentWillUpdate&&t.componentWillUpdate(u,c,l),t.props=u,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!j){o=t.render(u,c,l),t.getChildContext&&(l=i(i({},l),t.getChildContext())),m&&t.getSnapshotBeforeUpdate&&(C=t.getSnapshotBeforeUpdate(h,p));var A,P,I=o&&o.nodeName;if("function"==typeof I){var T=f(o);(a=S)&&a.constructor===I&&T.key==a.__key?x(a,T,1,l,!1):(A=a,t._component=a=w(I,T,l),a.nextBase=a.nextBase||y,a._parentComponent=t,x(a,T,0,l,!1),k(a,1,n,!0)),P=a.base}else s=_,(A=S)&&(s=t._component=null),(_||1===e)&&(s&&(s._component=null),P=g(s,o,l,n||!m,_&&_.parentNode,!0));if(_&&P!==_&&a!==S){var R=_.parentNode;R&&P!==R&&(R.replaceChild(P,_),A||(_._component=null,b(_,!1)))}if(A&&O(A),t.base=P,P&&!r){for(var D=t,L=t;L=L._parentComponent;)(D=L).base=P;P._component=D,P._componentConstructor=D.constructor}}for(!m||n?N.push(t):j||(t.componentDidUpdate&&t.componentDidUpdate(h,p,C),E.afterUpdate&&E.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);M||r||v()}}function O(t){E.beforeUnmount&&E.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?O(n):e&&(null!=e.__preactattr_&&o(e.__preactattr_.ref,null),t.nextBase=e,h(e),$.push(t),y(e)),o(t.__ref,null)}function S(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function j(t,e,n){return g(n,t,{},!1,e,!1)}function C(){return{}}n.r(e),n.d(e,"h",function(){return r}),n.d(e,"createElement",function(){return r}),n.d(e,"cloneElement",function(){return a}),n.d(e,"createRef",function(){return C}),n.d(e,"Component",function(){return S}),n.d(e,"render",function(){return j}),n.d(e,"rerender",function(){return u}),n.d(e,"options",function(){return E});var A=function(){},E={},P=[],I=[],T="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,R=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,D=[],N=[],M=0,L=!1,U=!1,$=[];i(S.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),s(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),k(this,2)},render:function(){}}),e.default={h:r,createElement:r,cloneElement:a,createRef:C,Component:S,render:j,rerender:u,options:E}},"6jwM":function(){},"8Jek":function(t,e){var n;!function(){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&t.push(a)}else if("object"===o)for(var s in n)i.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}var i={}.hasOwnProperty;t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},Ax1p:function(t,e,n){(function(){!function(){"use strict";function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||g.defaults,this.rules=m.normal,this.options.pedantic?this.rules=m.pedantic:this.options.gfm&&(this.rules=this.options.tables?m.tables:m.gfm)}function n(t,e){if(this.options=e||g.defaults,this.links=t,this.rules=b.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=b.pedantic:this.options.gfm&&(this.rules=this.options.breaks?b.breaks:b.gfm)}function r(t){this.options=t||g.defaults}function i(){}function o(t){this.tokens=[],this.token=null,this.options=t||g.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new a}function a(){this.seen={}}function s(t,e){if(e){if(s.escapeTest.test(t))return t.replace(s.escapeReplace,function(t){return s.replacements[t]})}else if(s.escapeTestNoEncode.test(t))return t.replace(s.escapeReplaceNoEncode,function(t){return s.replacements[t]});return t}function u(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function c(t,e){return t=t.source||t,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function l(t,e,n){if(t){try{var r=decodeURIComponent(u(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!w.test(n)&&(n=function(t,e){y[" "+t]||(y[" "+t]=/^[^:]+:\/*[^\/]*$/.test(t)?t+"/":d(t,"/",!0));return t=y[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}function f(){}function h(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function p(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function d(t,e,n){if(0===t.length)return"";for(var r=0;r<t.length;){var i=t.charAt(t.length-r-1);if(i!==e||n){if(i===e||!n)break;r++}else r++}return t.substr(0,t.length-r)}function v(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=0,r=0;r<t.length;r++)if("\\"===t[r])r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&--n<0)return r;return-1}function g(t,n,r){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null);var i,a,u=(n=h({},g.defaults,n||{})).highlight,c=0;try{i=e.lex(t,n)}catch(t){return r(t)}a=i.length;var l=function(t){if(t)return n.highlight=u,r(t);var e;try{e=o.parse(i,n)}catch(e){t=e}return n.highlight=u,t?r(t):r(null,e)};if(!u||u.length<3)return l();if(delete n.highlight,!a)return l();for(;c<i.length;c++)!function(t){"code"!==t.type?--a||l():u(t.text,t.lang,function(e,n){return e?l(e):null==n||n===t.text?--a||l():(t.text=n,t.escaped=!0,void(--a||l()))})}(i[c])}else try{return n&&(n=h({},g.defaults,n)),o.parse(e.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||g.defaults).silent)return"<p>An error occurred:</p><pre>"+s(t.message+"",!0)+"</pre>";throw t}}var m={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:f,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};m.def=c(m.def).replace("label",m._label).replace("title",m._title).getRegex(),m.bullet=/(?:[*+-]|\d{1,9}\.)/,m.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,m.item=c(m.item,"gm").replace(/bull/g,m.bullet).getRegex(),m.list=c(m.list).replace(/bull/g,m.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+m.def.source+")").getRegex(),m._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",m._comment=/<!--(?!-?>)[\s\S]*?-->/,m.html=c(m.html,"i").replace("comment",m._comment).replace("tag",m._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),m.paragraph=c(m.paragraph).replace("hr",m.hr).replace("heading",m.heading).replace("lheading",m.lheading).replace("tag",m._tag).getRegex(),m.blockquote=c(m.blockquote).replace("paragraph",m.paragraph).getRegex(),m.normal=h({},m),m.gfm=h({},m.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),m.gfm.paragraph=c(m.paragraph).replace("(?!","(?!"+m.gfm.fences.source.replace("\\1","\\2")+"|"+m.list.source.replace("\\1","\\3")+"|").getRegex(),m.tables=h({},m.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),m.pedantic=h({},m.normal,{html:c("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",m._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),e.rules=m,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},e.prototype.token=function(t,e){var n,r,i,o,a,s,u,c,l,f,h,v,g,b,y,w;for(t=t.replace(/^ +$/gm,"");t;)if((i=this.rules.newline.exec(t))&&(t=t.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(t))t=t.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:d(i,"\n")});else if(i=this.rules.fences.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(t))&&(s={type:"table",header:p(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(t=t.substring(i[0].length),h=0;h<s.align.length;h++)s.align[h]=/^ *-+: *$/.test(s.align[h])?"right":/^ *:-+: *$/.test(s.align[h])?"center":/^ *:-+ *$/.test(s.align[h])?"left":null;for(h=0;h<s.cells.length;h++)s.cells[h]=p(s.cells[h],s.header.length);this.tokens.push(s)}else if(i=this.rules.hr.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,e),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(t)){for(t=t.substring(i[0].length),this.tokens.push(u={type:"list_start",ordered:b=(o=i[2]).length>1,start:b?+o:"",loose:!1}),c=[],n=!1,g=(i=i[0].match(this.rules.item)).length,h=0;h<g;h++)f=(s=i[h]).length,~(s=s.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(f-=s.length,s=s.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+f+"}","gm"),"")),h!==g-1&&(a=m.bullet.exec(i[h+1])[0],(o.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==o)&&(t=i.slice(h+1).join("\n")+t,h=g-1)),r=n||/\n\n(?!\s*$)/.test(s),h!==g-1&&(n="\n"===s.charAt(s.length-1),r||(r=n)),r&&(u.loose=!0),w=void 0,(y=/^\[[ xX]\] /.test(s))&&(w=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),c.push(l={type:"list_item_start",task:y,checked:w,loose:r}),this.tokens.push(l),this.token(s,!1),this.tokens.push({type:"list_item_end"});if(u.loose)for(g=c.length,h=0;h<g;h++)c[h].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(t))t=t.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(e&&(i=this.rules.def.exec(t)))t=t.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),v=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[v]||(this.tokens.links[v]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(t))&&(s={type:"table",header:p(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(t=t.substring(i[0].length),h=0;h<s.align.length;h++)s.align[h]=/^ *-+: *$/.test(s.align[h])?"right":/^ *:-+: *$/.test(s.align[h])?"center":/^ *:-+ *$/.test(s.align[h])?"left":null;for(h=0;h<s.cells.length;h++)s.cells[h]=p(s.cells[h].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(i=this.rules.lheading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(e&&(i=this.rules.paragraph.exec(t)))t=t.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var b={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:f,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};b.em=c(b.em).replace(/punctuation/g,b._punctuation).getRegex(),b._escapes=/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,b._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,b._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,b.autolink=c(b.autolink).replace("scheme",b._scheme).replace("email",b._email).getRegex(),b._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,b.tag=c(b.tag).replace("comment",m._comment).replace("attribute",b._attribute).getRegex(),b._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,b._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,b._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,b.link=c(b.link).replace("label",b._label).replace("href",b._href).replace("title",b._title).getRegex(),b.reflink=c(b.reflink).replace("label",b._label).getRegex(),b.normal=h({},b),b.pedantic=h({},b.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:c(/^!?\[(label)\]\((.*?)\)/).replace("label",b._label).getRegex(),reflink:c(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",b._label).getRegex()}),b.gfm=h({},b.normal,{escape:c(b.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),b.gfm.url=c(b.gfm.url,"i").replace("email",b.gfm._extended_email).getRegex(),b.breaks=h({},b.gfm,{br:c(b.br).replace("{2,}","*").getRegex(),text:c(b.gfm.text).replace(/\{2,\}/g,"*").getRegex()}),n.rules=b,n.output=function(t,e,r){return new n(e,r).output(t)},n.prototype.output=function(t){for(var e,r,i,o,a,u,c="";t;)if(a=this.rules.escape.exec(t))t=t.substring(a[0].length),c+=s(a[1]);else if(a=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),t=t.substring(a[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):s(a[0]):a[0];else if(a=this.rules.link.exec(t)){var l=v(a[2],"()");if(l>-1){var f=a[0].length-(a[2].length-l)-(a[3]||"").length;a[2]=a[2].substring(0,l),a[0]=a[0].substring(0,f).trim(),a[3]=""}t=t.substring(a[0].length),this.inLink=!0,i=a[2],this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i))?(i=e[1],o=e[3]):o="":o=a[3]?a[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(a,{href:n.escapes(i),title:n.escapes(o)}),this.inLink=!1}else if((a=this.rules.reflink.exec(t))||(a=this.rules.nolink.exec(t))){if(t=t.substring(a[0].length),e=(a[2]||a[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){c+=a[0].charAt(0),t=a[0].substring(1)+t;continue}this.inLink=!0,c+=this.outputLink(a,e),this.inLink=!1}else if(a=this.rules.strong.exec(t))t=t.substring(a[0].length),c+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(t))t=t.substring(a[0].length),c+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(t))t=t.substring(a[0].length),c+=this.renderer.codespan(s(a[2].trim(),!0));else if(a=this.rules.br.exec(t))t=t.substring(a[0].length),c+=this.renderer.br();else if(a=this.rules.del.exec(t))t=t.substring(a[0].length),c+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(t))t=t.substring(a[0].length),i="@"===a[2]?"mailto:"+(r=s(this.mangle(a[1]))):r=s(a[1]),c+=this.renderer.link(i,null,r);else if(this.inLink||!(a=this.rules.url.exec(t))){if(a=this.rules.text.exec(t))t=t.substring(a[0].length),c+=this.renderer.text(this.inRawBlock?a[0]:s(this.smartypants(a[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===a[2])i="mailto:"+(r=s(a[0]));else{do{u=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(u!==a[0]);r=s(a[0]),i="www."===a[1]?"http://"+r:r}t=t.substring(a[0].length),c+=this.renderer.link(i,null,r)}return c},n.escapes=function(t){return t?t.replace(n.rules._escapes,"$1"):t},n.prototype.outputLink=function(t,e){var n=e.href,r=e.title?s(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,s(t[1]))},n.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},n.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},r.prototype.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return r?'<pre><code class="'+this.options.langPrefix+s(r,!0)+'">'+(n?t:s(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:s(t,!0))+"</code></pre>"},r.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},r.prototype.html=function(t){return t},r.prototype.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},r.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},r.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},r.prototype.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},r.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},r.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},r.prototype.strong=function(t){return"<strong>"+t+"</strong>"},r.prototype.em=function(t){return"<em>"+t+"</em>"},r.prototype.codespan=function(t){return"<code>"+t+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(t){return"<del>"+t+"</del>"},r.prototype.link=function(t,e,n){if(null===(t=l(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+s(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},r.prototype.image=function(t,e,n){if(null===(t=l(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(t){return t},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(t){return t},i.prototype.link=i.prototype.image=function(t,e,n){return""+n},i.prototype.br=function(){return""},o.parse=function(t,e){return new o(e).parse(t)},o.prototype.parse=function(t){this.inline=new n(t.links,this.options),this.inlineText=new n(t.links,h({},this.options,{renderer:new i})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,u(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case"list_item_start":o="";var c=this.token.loose,l=this.token.checked,f=this.token.task;for(this.token.task&&(o+=this.renderer.checkbox(l));"list_item_end"!==this.next().type;)o+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(o,f,l);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var h='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(h);console.log(h)}},a.prototype.slug=function(t){var e=t.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,.\/:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e)){var n=e;do{this.seen[n]++,e=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(e))}return this.seen[e]=0,e},s.escapeTest=/[&<>"']/,s.escapeReplace=/[&<>"']/g,s.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,s.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var y={},w=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;f.exec=f,g.options=g.setOptions=function(t){return h(g.defaults,t),g},g.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},g.defaults=g.getDefaults(),g.Parser=o,g.parser=o.parse,g.Renderer=r,g.TextRenderer=i,g.Lexer=e,g.lexer=e.lex,g.InlineLexer=n,g.inlineLexer=n.output,g.Slugger=a,g.parse=g,t.exports=g}(this||"undefined"!=typeof window&&window)}).call(this,n("pCvA"))},GFNa:function(){},OvAo:function(){},QfWi:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function o(t,e){return t.index=e,t.rank=function(t){return t.attributes.default?0:(e=t.attributes.path,a(e).map(s).join(""));var e}(t),t.attributes}function a(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function s(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}function u(){var t;return""+((t=K&&K.location?K.location:K&&K.getCurrentLocation?K.getCurrentLocation():"undefined"!=typeof location?location:V).pathname||"")+(t.search||"")}function c(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=z.length;e--;)if(z[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),K&&K[e]?K[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),l(t)}function l(t){for(var e=!1,n=0;n<z.length;n++)!0===z[n].routeTo(t)&&(e=!0);for(var r=q.length;r--;)q[r](t);return e}function f(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return c(e)}}function h(t){if(0==t.button)return f(t.currentTarget||t.target||this),p(t)}function p(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function d(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e,n=t.target;do{if("A"===String(n.nodeName).toUpperCase()&&n.getAttribute("href")&&(null!=(e=n).__preactattr_||"undefined"!=typeof Symbol&&null!=e[Symbol.for("preactattr")])){if(n.hasAttribute("native"))return;if(f(n))return p(t)}}while(n=n.parentNode)}}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function g(t){return"/"===t.charAt(0)}function m(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function b(t){return"/"===t.charAt(0)?t:"/"+t}function y(t){return"/"===t.charAt(0)?t.substr(1):t}function w(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function _(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function x(t){var e=t.search,n=t.hash,r=t.pathname||"/";return e&&"?"!==e&&(r+="?"===e.charAt(0)?e:"?"+e),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r}function k(t,e,n,r){var i;"string"==typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(i=v({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=H(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function O(){var t=null,e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){function n(){r&&t.apply(void 0,arguments)}var r=!0;return e.push(n),function(){r=!1,e=e.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}function S(t,e){e(window.confirm(t))}function j(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function C(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function A(t){function e(){var t=d(j());return f&&(t=w(t,f)),k(t)}function n(t){v(D,t),D.length=a.length,g.notifyListeners(D.location,D.action)}function r(){var t,r,o=j(),a=p(o);if(o!==a)C(a);else{var s=e();if(!m&&((t=D.location).pathname===(r=s).pathname&&t.search===r.search&&t.hash===r.hash&&t.key===r.key&&G(t.state,r.state)))return;if(y===x(s))return;y=null,function(t){if(m)m=!1,n();else{g.confirmTransitionTo(t,"POP",u,function(e){e?n({action:"POP",location:t}):function(t){var e=I.lastIndexOf(x(D.location));-1===e&&(e=0);var n=I.lastIndexOf(x(t));-1===n&&(n=0);var r=e-n;r&&(m=!0,i(r))}(t)})}}(s)}}function i(t){a.go(t)}function o(t){1===(T+=t)&&1===t?window.addEventListener(nt,r):0===T&&window.removeEventListener(nt,r)}void 0===t&&(t={}),et||tt(!1);var a=window.history,s=(window.navigator.userAgent.indexOf("Firefox"),t.getUserConfirmation),u=void 0===s?S:s,c=t.hashType,l=void 0===c?"slash":c,f=t.basename?_(b(t.basename)):"",h=rt[l],p=h.encodePath,d=h.decodePath,g=O(),m=!1,y=null,A=j(),E=p(A);A!==E&&C(E);var P=e(),I=[x(P)],T=0,R=!1,D={length:a.length,action:"POP",location:P,createHref:function(t){return"#"+p(f+x(t))},push:function(t){var e=k(t,void 0,void 0,D.location);g.confirmTransitionTo(e,"PUSH",u,function(t){if(t){var r=x(e),i=p(f+r);if(j()!==i){y=r,function(t){window.location.hash=t}(i);var o=I.lastIndexOf(x(D.location)),a=I.slice(0,-1===o?0:o+1);a.push(r),I=a,n({action:"PUSH",location:e})}else n()}})},replace:function(t){var e=k(t,void 0,void 0,D.location);g.confirmTransitionTo(e,"REPLACE",u,function(t){if(t){var r=x(e),i=p(f+r);j()!==i&&(y=r,C(i));var o=I.indexOf(x(D.location));-1!==o&&(I[o]=r),n({action:"REPLACE",location:e})}})},go:i,goBack:function(){i(-1)},goForward:function(){i(1)},block:function(t){void 0===t&&(t=!1);var e=g.setPrompt(t);return R||(o(1),R=!0),function(){return R&&(R=!1,o(-1)),e()}},listen:function(t){var e=g.appendListener(t);return o(1),function(){o(-1),e()}}};return D}function E(t){return new Date(t).toLocaleString("en-GB",{timeZone:"Europe/Moscow"})}function P(t){return Object(B.h)("span",{class:$()("button edit-btn is-small",t.class),onClick:function(){return c("/edit/"+t.noteId)}},Object(B.h)("i",{class:"fas fa-edit"}))}function I(t){var e=t.text,n=t.onClick;return Object(B.h)("a",{class:"navbar-item is-expanded",onClick:n},e)}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(){return(R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function D(t){var e=t.name,n=t.value,r=t.valid,i=t.onInput,o=t.autofocus,a=r&&r(n);return Object(B.h)("div",{class:"field"},Object(B.h)("label",{class:"label"},e),Object(B.h)("div",{class:"control"},Object(B.h)("input",{class:$()("input",{"is-danger":a}),value:n,onInput:i,autofocus:o})),Object(B.h)("p",{class:$()("help",{"is-danger":a})},a))}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t}function L(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.r(e);n("GFNa"),n("2zjJ"),n("6jwM"),n("OvAo");var U=n("8Jek"),$=n.n(U),B=n("4dxh"),F={},K=null,z=[],q=[],V={},W=!1,Z=function(t){function e(e){t.call(this,e),e.history&&(K=e.history),this.state={url:e.url||u()},W||("function"==typeof addEventListener&&(K||addEventListener("popstate",function(){l(u())}),addEventListener("click",d)),W=!0)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},e.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},e.prototype.componentWillMount=function(){z.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;K&&(this.unlisten=K.listen(function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))})),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),z.splice(z.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(o).sort(i).map(function(t){var i=function(t,e,n){var r,i=/(?:\?([^#]*))?(#.*)?$/,o=t.match(i),s={};if(o&&o[1])for(var u=o[1].split("&"),c=0;c<u.length;c++){var l=u[c].split("=");s[decodeURIComponent(l[0])]=decodeURIComponent(l.slice(1).join("="))}t=a(t.replace(i,"")),e=a(e||"");for(var f=Math.max(t.length,e.length),h=0;h<f;h++)if(e[h]&&":"===e[h].charAt(0)){var p=e[h].replace(/(^\:|[+*?]+$)/g,""),d=(e[h].match(/[+*?]+$/)||F)[0]||"",v=~d.indexOf("+"),g=~d.indexOf("*"),m=t[h]||"";if(!m&&!g&&(d.indexOf("?")<0||v)){r=!1;break}if(s[p]=decodeURIComponent(m),v||g){s[p]=t.slice(h).map(decodeURIComponent).join("/");break}}else if(e[h]!==t[h]){r=!1;break}return(!0===n.default||!1!==r)&&s}(e,t.attributes.path,t.attributes);if(i){if(!1!==n){var o={url:e,matches:i};return r(o,i),delete o.ref,delete o.key,Object(B.cloneElement)(t,o)}return t}}).filter(Boolean)},e.prototype.render=function(t,e){var n=t.onChange,r=e.url,i=this.getMatchingChildren(t.children,r,!0),o=i[0]||null;this._didRoute=!!o;var a=this.previousUrl;return r!==a&&(this.previousUrl=r,"function"==typeof n&&n({router:this,url:r,previous:a,active:i,current:o})),o},e}(B.Component),Q=function(t){return Object(B.h)("a",r({onClick:h},t))};Z.subscribers=q,Z.getCurrentUrl=u,Z.route=c,Z.Router=Z,Z.Route=function(t){return Object(B.h)(t.component,t)},Z.Link=Q;var H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&g(t),o=e&&g(e),a=i||o;if(t&&g(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,l=r.length;l>=0;l--){var f=r[l];"."===f?m(r,l):".."===f?(m(r,l),c++):c&&(m(r,l),c--)}if(!a)for(;c--;c)r.unshift("..");!a||""===r[0]||r[0]&&g(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h},Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});var r=void 0===e?"undefined":Y(e);if(r!==(void 0===n?"undefined":Y(n)))return!1;if("object"===r){var i=e.valueOf(),o=n.valueOf();if(i!==e||o!==n)return t(i,o);var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(r){return t(e[r],n[r])})}return!1},J=!0,X="Invariant failed",tt=function(t,e){if(!t)throw J?new Error(X):new Error(X+": "+(e||""))},et=!("undefined"==typeof window||!window.document||!window.document.createElement),nt="hashchange",rt={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+y(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:y,decodePath:b},slash:{encodePath:b,decodePath:b}},it={DRAFT_SAVE_TIMEOUT:4e3,SYNC_SERVER_URL:"",CLIENT_KEY:"",QUEUE_LIMIT:99},ot=it,at=n("fh8t"),st=n.n(at),ut=function(t){function e(e){var n;return(n=t.call(this,e)||this).toggleBurger=function(){return n.setState({isMenuActive:!n.state.isMenuActive})},n.state={isMenuActive:!1},n}var n,r;return r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,e.prototype.render=function(){var t=$()({"is-active":this.state.isMenuActive});return Object(B.h)("nav",{class:"navbar has-shadow is-fixed-top",role:"navigation","aria-label":"main navigation"},Object(B.h)("div",{class:"navbar-brand"},Object(B.h)("div",{class:"navbar-item"},"FHMP"),Object(B.h)("a",{class:$()("navbar-burger burger",t),role:"button","aria-label":"menu","aria-expanded":"false",onClick:this.toggleBurger},Object(B.h)("span",{"aria-hidden":"true"}),Object(B.h)("span",{"aria-hidden":"true"}),Object(B.h)("span",{"aria-hidden":"true"}))),Object(B.h)("div",{class:$()("navbar-menu",t)},Object(B.h)("div",{class:"navbar-start"},Object(B.h)(ct,{url:"/new",icon:"fas fa-seedling",text:"Add Note"}),Object(B.h)(ct,{url:"/list",icon:"fas fa-list",text:"List"}),Object(B.h)(ct,{url:"/review",icon:"fas fa-bong",text:"Review"}),Object(B.h)(ct,{url:"/config",icon:"fas fa-cog",text:"Config"}),Object(B.h)(ct,{url:"/sync",icon:"fas fa-sync",text:"Sync"}))))},e}(B.Component),ct=function(t){var e=window.location.pathname.startsWith(t.url);return Object(B.h)(Q,{class:$()("navbar-item",{"is-active":e}),href:t.url},Object(B.h)("span",{class:"icon"},Object(B.h)("i",{class:t.icon})),Object(B.h)("span",null,t.text))},lt=function(t){function e(e){var n;return(n=t.call(this,e)||this).message=function(t){t.error?console.error(t):t.warning&&console.warn(t),n.setState({message:t})},n.success=function(t){return function(){return n.message({success:!0,msg:t})}},n.warning=function(t){return function(e){return n.message({warning:!0,err:e,msg:t})}},n.error=function(t){return function(e){return n.message({error:!0,err:e,msg:t})}},n.clearMessage=function(){return n.setState({message:null})},n.state={message:null},n}var n,r;return r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,e.prototype.render=function(){var t=this.state.message;return Object(B.h)("div",null,Object(B.h)(ut,null),Object(B.h)("div",{class:$()("section",this.props.class)},this.props.children),t&&Object(B.h)("div",{class:"modal is-active"},Object(B.h)("div",{class:"modal-background",onClick:this.clearMessage}),Object(B.h)("div",{class:"modal-content",onClick:this.clearMessage},Object(B.h)("article",{class:$()("message",{"is-danger":t.error,"is-warning":t.warning,"is-success":t.success})},Object(B.h)("div",{class:"message-body"},t.msg)))))},e}(B.Component),ft=function(t){function e(e){var n;return(n=t.call(this,e)||this).randomQueue=function(){return n.props.db.getRandomNotes().then(function(t){return n.setState({queue:t})}).catch(function(t){return n.page.error(Object(B.h)("span",null,"We failed to fetch notes for review. ",Object(B.h)("br",null)))(t)})},n.showAnswer=function(){return n.setState({isAnswerVisible:!0})},n.skip=function(){return n.setState({isAnswerVisible:!1,queue:n.state.queue.slice(1)})},n.review=function(t){return n.props.db.addReview(n.state.queue[0],t).then(n.skip).catch(n.page.warning("Failed to save your review"))},n.hard=function(){return n.review("hard")},n.easy=function(){return n.review("easy")},n.state={queue:null,isAnswerVisible:!1},n}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this;this.props.db.getNotesToReview().then(function(e){return t.setState({queue:e})}).catch(function(e){return t.page.error(Object(B.h)("span",null,"We failed to fetch notes for review. ",Object(B.h)("br",null)))(e)})},i.render=function(){var t=this,e=this.state,n=e.queue,r=e.isAnswerVisible;if(null===n)return Object(B.h)(lt,{ref:function(e){return t.page=e}},Object(B.h)("div",{class:"section"},"Fetching notes to review…"));if(0===n.length)return Object(B.h)(lt,{ref:function(e){return t.page=e}},Object(B.h)("div",{class:"section"},Object(B.h)("p",null,"Nothing to review. Well done!"),Object(B.h)("button",{class:"button is-warning",onClick:this.randomQueue},"Review random notes")));var i=n[0].id,o=n[0].text.split(/\n-{4,}\n/),a=o[0],s=o[1];return Object(B.h)(lt,{ref:function(e){return t.page=e}},Object(B.h)("div",{class:"edit-btn-container"},Object(B.h)(P,{noteId:i})),Object(B.h)("div",{class:"content"},Object(B.h)(st.a,{markdown:a})),!r&&Object(B.h)("div",{class:"field"},Object(B.h)("button",{class:"button is-light is-fullwidth",onClick:this.showAnswer},"Show the answer")),r&&Object(B.h)("div",{class:"content"},Object(B.h)(st.a,{markdown:s})),Object(B.h)("nav",{class:"navbar is-light is-fixed-bottom"},Object(B.h)("div",{class:"navbar-brand"},Object(B.h)(I,{text:"Hard",onClick:this.hard}),Object(B.h)(I,{text:"Skip",onClick:this.skip}),Object(B.h)(I,{text:"Easy",onClick:this.easy}))))},e}(B.Component),ht=function(t){function e(e){var n;return(n=t.call(this,e)||this).expand=function(t){return n.setState({expand:t===n.state.expand?null:t})},n.state={notes:[],expand:null},n}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this,e=function(t){var e=t.text.split(/\n-{4,}\n/);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){T(t,e,n[e])})}return t}({question:e[0],answer:e[1]},t)};this.props.db.getNotes().then(function(n){return t.setState({notes:n.map(e)})}).catch(this.page.error("Failed to load notes from local storage."))},i.render=function(){var t=this;return Object(B.h)(lt,{ref:function(e){return t.page=e}},this.state.notes.map(function(e){return Object(B.h)("article",{class:"notification edit-btn-container is-clickable",onClick:function(){return t.expand(e.id)}},Object(B.h)("span",null,e.question),e.id==t.state.expand&&Object(B.h)("div",{class:"content"},Object(B.h)("div",null,Object(B.h)("strong",null,"Last review: "),E(e.lastReview)),Object(B.h)("div",null,Object(B.h)("strong",null,"Next review: "),E(e.nextReview)),Object(B.h)(st.a,{markdown:e.answer})),Object(B.h)(P,{class:"is-light",noteId:e.id}))}))},e}(B.Component),pt=function(t){function e(e){var n;return(n=t.call(this,e)||this).loadSavedNote=function(){return n.props.noteId?n.props.db.getNote(n.props.noteId).then(function(t){return n.setState({draft:null,text:t?t.text:""})}):n.setState({draft:null,text:""})},n.dismissDraftMsg=function(){return n.setState({draft:null})},n.onText=function(t){return n.setState({text:t.target.value,draftSaved:!1})},n.onSave=function(){var t=n.state.text;(n.props.noteId?function(){return n.props.db.updateNote(n.props.noteId,t)}:function(){return n.props.db.createNote(t)})().then(function(){n.props.db.dropDraft(n.props.noteId),n.props.noteId||n.setState({draftSaved:!0,text:""}),n.page.success("Your note was saved successfully.")()}).catch(n.page.error(Object(B.h)("span",null,"Sorry! ",Object(B.h)("br",null),"We could not save your note to the local storage.")))},n.state={text:"",draft:null,draftSaved:!0},n}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this,e=this.props.noteId;this.props.db.getDraft(e).then(function(e){return e.text.length>10?t.setState({text:e.text,draft:e,draftSaved:!0}):t.loadSavedNote()}).catch(this.loadSavedNote),this.draftSaveLoop=setInterval(function(){return t.state.draftSaved||t.props.db.saveDraft(e,t.state.text).then(function(){return t.setState({draftSaved:!0})})},ot.DRAFT_SAVE_TIMEOUT)},i.componentWillUnmount=function(){clearInterval(this.draftSaveLoop),this.props.db.saveDraft(this.props.noteId,this.state.text).catch(this.page.warning("Failed to save the draft"))},i.render=function(){var t=this,e=$()("textarea has-extra-height",{"is-success":this.state.draftSaved});return Object(B.h)(lt,{ref:function(e){return t.page=e}},Object(B.h)("div",{class:"field"},this.state.draft&&Object(B.h)("article",{class:"message is-warning"},Object(B.h)("div",null,"Found draft saved on ",this.state.draft.time,Object(B.h)("button",{class:"button is-light",onClick:this.loadSavedNote},"Drop it"),Object(B.h)("button",{class:"button is-light",onClick:this.dismissDraftMsg},"Keep it"))),Object(B.h)("textarea",{class:e,ref:function(e){return t.textarea=e},onInput:this.onText,value:this.state.text,autofocus:"true"})),Object(B.h)("nav",{class:"navbar is-light is-fixed-bottom"},Object(B.h)("div",{class:"navbar-brand"},Object(B.h)("a",{class:"navbar-item is-expanded has-text-centered",disabled:!this.state.text,onClick:this.onSave},"Save"))))},e}(B.Component),dt=function(t){function e(e){var n;return(n=t.call(this,e)||this).defaultState=function(){return R({},ot)},n.onCancel=function(){return n.setState(n.defaultState())},n.onSave=function(){return(t=n.props.db,e=n.state,t.saveConfig(e).then(function(){for(var t in it)t in e&&(it[t]=e[t])})).then(n.page.success("Config was sucessfully saved to storage.")).catch(n.page.error("Failed to save config to storage."));var t,e},n.isValidNumber=function(t){return null===String(t).match(/^\d+$/)?"Should be positive number":null},n.setTimeout=function(t){return n.setState({DRAFT_SAVE_TIMEOUT:t.target.value})},n.setURL=function(t){return n.setState({SYNC_SERVER_URL:t.target.value})},n.setKey=function(t){return n.setState({CLIENT_KEY:t.target.value})},n.setQLimit=function(t){return n.setState({QUEUE_LIMIT:t.target.value})},n.state=n.defaultState(),n}var n,r;return r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,e.prototype.render=function(){var t=this;return Object(B.h)(lt,{ref:function(e){return t.page=e}},Object(B.h)(D,{autofocus:"true",name:"Draft save timeout (in µseconds)",value:this.state.DRAFT_SAVE_TIMEOUT,valid:this.isValidNumber,onInput:this.setTimeout}),Object(B.h)(D,{name:"Review queue size limit",value:this.state.QUEUE_LIMIT,onInput:this.setQLimit}),Object(B.h)(D,{name:"Sync server URL",value:this.state.SYNC_SERVER_URL,onInput:this.setURL}),Object(B.h)(D,{name:"Client key",value:this.state.CLIENT_KEY,onInput:this.setKey}),Object(B.h)("nav",{class:"navbar is-light is-fixed-bottom"},Object(B.h)("div",{class:"navbar-brand"},Object(B.h)("a",{class:"navbar-item is-expanded has-text-centered",onClick:this.onCancel},"Cancel"),Object(B.h)("a",{class:"navbar-item is-expanded has-text-centered",onClick:this.onSave},"Save"))))},e}(B.Component),vt=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={log:[]},n}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=e.prototype;return i.componentDidMount=function(){var t=this,e=function(e){return t.setState({log:t.state.log.concat(e)})};if(ot.SYNC_SERVER_URL){e("Sync started");var n=this.props.db;n.pushToServer().then(function(){return e("  - data sent"),n.pullFromServer()}).then(function(){return e("  - data received")}).catch(function(t){return e("Sync failed\n   - "+t)})}else e("Sync server is not defined in config.")},i.render=function(){return Object(B.h)(lt,null,Object(B.h)("pre",null,this.state.log.join("\n")))},e}(B.Component),gt=n("ernz"),mt=function(){var t=this;this.open=function(){return t.idb.open()},this.loadConfig=function(){return t.idb.Config.get(0)},this.saveConfig=function(e){return t.idb.Config.put(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){N(t,e,n[e])})}return t}({id:0},e))},this.saveDraft=function(e,n){return t.idb.Drafts.put({id:e||"",text:n,time:(new Date).toISOString()})},this.getDraft=function(e){return t.idb.Drafts.get({id:e||""})},this.dropDraft=function(e){return t.idb.Drafts.delete(e||"")},this.createNote=function(e){var n=Date.now().toString(36),r=n+Math.random().toString(36).substring(1,4),i=(new Date).toISOString();return t.idb.Notes.add({id:r,lastReview:i,nextReview:i,text:e,ver:n})},this.getNote=function(e){return t.idb.Notes.get(e)},this.getNotes=function(){return t.idb.Notes.toArray()},this.updateNote=function(e,n){var r=Date.now().toString(36);return t.idb.Notes.update(e,{text:n,ver:r})},this.getNotesToReview=function(){var e=(new Date).toISOString();return t.idb.Notes.where("nextReview").below(e).limit(ot.QUEUE_LIMIT).toArray().then(M)},this.getRandomNotes=function(){return t.idb.Notes.toCollection().sortBy("lastReview").then(M)},this.addReview=function(e,n){var r={note:e.id,time:(new Date).toISOString(),result:n},i=new Date,o=new Date(e.lastReview),a=function(t,e,n){console.assert(t>=0,"expected interval can't be negative"),console.assert(e>=0,"actual interval can't be negative");var r=[1,2,3,5,8,13,21,34,55,89,144];if("hard"===n){var i=Math.min(e,t)/864e5,o=r.findIndex(function(t){return t>=i});return 864e5*r[o>0?o-1:0]}if("easy"===n){if(e<.6*t)return t;var a=Math.max(t,e)/864e5,s=r.findIndex(function(t){return t>a});return 864e5*r[s>=0?s:r.length-1]}console.error("Unexpected review result",n)}(new Date(e.nextReview)-o,i-o,n),s=new Date(i.valueOf()+a).toISOString();return t.idb.Notes.update(e.id,{lastReview:i.toISOString(),nextReview:s}).then(function(){return t.idb.Reviews.add(r)})},this.pushToServer=function(){return t.idb.Notes.toArray().then(function(e){return t.idb.Reviews.toArray().then(function(t){return fetch(ot.SYNC_SERVER_URL+"/"+ot.CLIENT_KEY,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:e,reviews:t})}).then(function(t){if(!t.ok)throw t})})})},this.pullFromServer=function(){return fetch(ot.SYNC_SERVER_URL+"/"+ot.CLIENT_KEY).then(function(t){return t.json()}).then(function(e){return t.idb.Notes.bulkPut(e.notes).then(function(){return t.idb.Reviews.bulkPut(e.reviews)})})};var e=0;this.idb=new gt.a("fhmp"),this.idb.version(++e).stores({Config:"id",Drafts:"id",Notes:"id,nextReview",Reviews:"time"}),console.assert(!0,"DB version mismatch")},bt=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={db:null},n}L(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=new mt;e.open().then(function(){return function(t){return t.loadConfig().then(function(t){if(t)for(var e in it)e in t&&(it[e]=t[e])})}(e)}).then(function(){return t.setState({db:e})}).catch(function(e){return t.onMessage({error:!0,err:e,msg:"Loading form DB failed"})}),document.body.classList.add("has-navbar-fixed-top"),document.body.classList.add("has-navbar-fixed-bottom"),navigator.storage&&navigator.storage.persist()},n.render=function(){var t=this.state,e=t.db;return e?Object(B.h)(Z,{history:A()},Object(B.h)(yt,{path:"/",to:"/list"}),Object(B.h)(ht,{path:"/list",db:e}),Object(B.h)(pt,{path:"/new",db:e}),Object(B.h)(pt,{path:"/edit/:noteId",db:e}),Object(B.h)(ft,{path:"/review",db:e}),Object(B.h)(dt,{path:"/config",db:e}),Object(B.h)(vt,{path:"/sync",db:e})):"Loading..."},e}(B.Component),yt=function(t){function e(){return t.apply(this,arguments)||this}L(e,t);var n=e.prototype;return n.componentWillMount=function(){c(this.props.to,!0)},n.render=function(){return null},e}(B.Component);e.default=bt},"d+Dk":function(t,e,n){t.exports=function(t){"use strict";function e(t,e){var n=void 0,r="html"===e?"text/html":"application/xml",i=void 0,a=void 0,s=void 0;"html"===e?(s="body",a="<!DOCTYPE html>\n<html><body>"+t+"</body></html>"):(s="xml",a='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+t+"</xml>");try{n=(new DOMParser).parseFromString(a,r)}catch(t){i=t}if(n||"html"!==e||((n=o||(o=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var t=document.createElement("iframe");return t.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",t.setAttribute("sandbox","allow-forms"),document.body.appendChild(t),t.contentWindow.document}())).open(),n.write(a),n.close()),n){var u=n.getElementsByTagName(s)[0],c=u.firstChild;return t&&!c&&(u.error="Document parse failed."),c&&"parsererror"===String(c.nodeName).toLowerCase()&&(c.removeChild(c.firstChild),c.removeChild(c.lastChild),u.error=c.textContent||c.nodeValue||i||"Unknown error",u.removeChild(c)),u}}function n(t,e,r){if(3===t.nodeType){var i="textContent"in t?t.textContent:t.nodeValue||"";if(!1!==n.options.trim){var o=0===e||e===r.length-1;if((!(i=i.match(/^[\s\n]+$/g)&&"all"!==n.options.trim?" ":i.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===n.options.trim||o?"":" "))||" "===i)&&r.length>1&&o)return null}return i}if(1!==t.nodeType)return null;var a=String(t.nodeName).toLowerCase();if("script"===a&&!n.options.allowScripts)return null;var u,c,l=n.h(a,function(t){var e=t&&t.length;if(!e)return null;for(var r={},i=0;i<e;i++){var o=t[i],a=o.name,s=o.value;""===s&&(s=!0),"on"===a.substring(0,2)&&n.options.allowEvents&&(s=new Function(s)),r[a]=s}return r}(t.attributes),(c=(u=t.childNodes)&&Array.prototype.map.call(u,n).filter(s))&&c.length?c:null);return n.visitor&&n.visitor(l),l}function r(t,r,o,s,c){var l=e(t,r);if(l&&l.error)throw new Error(l.error);var f=l&&l.body||l;i.map=s||u;var h=f&&function(t,e,r,i){return n.visitor=e,n.h=r,n.options=i||a,n(t)}(f,i,o,c);return i.map=null,h&&h.children||null}function i(t){var e=t.nodeName.toLowerCase(),n=i.map;n&&n.hasOwnProperty(e)?(t.nodeName=n[e],t.attributes=Object.keys(t.attributes||{}).reduce(function(e,n){return e[function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}(n)]=t.attributes[n],e},{})):t.nodeName=e.replace(/[^a-z0-9-]/i,"")}var o=void 0,a={},s=function(t){return t},u={},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},l=void 0;return function(e){function n(){return c(this,e.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n.setReviver=function(t){l=t},n.prototype.shouldComponentUpdate=function(t){var e=t.wrap,n=t.type,r=t.markup,i=this.props;return e!==i.wrap||n!==i.type||r!==i.markup},n.prototype.setComponents=function(t){if(this.map={},t)for(var e in t)if(t.hasOwnProperty(e)){var n=e.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[n]=t[e]}},n.prototype.render=function(e){var n=e.wrap,i=void 0===n||n,o=e.type,a=e.markup,s=e.components,u=e.reviver,c=e.onError,f=e["allow-scripts"],h=e["allow-events"],p=e.trim,d=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),v=u||this.reviver||this.constructor.prototype.reviver||l||t.h,g=void 0;this.setComponents(s);var m={allowScripts:f,allowEvents:h,trim:p};try{g=r(a,o,v,this.map,m)}catch(t){c?c({error:t}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+t)}if(!1===i)return g&&g[0]||null;var b=d.hasOwnProperty("className")?"className":"class",y=d[b];return y?y.splice?y.splice(0,0,"markup"):"string"==typeof y?d[b]+=" markup":"object"==typeof y&&(y.markup=!0):d[b]="markup",v("div",d,g||null)},n}(t.Component)}(n("4dxh"))},ernz:function(t,e,n){"use strict";(function(t){function n(t,e){return"object"!=typeof e?t:(yt(e).forEach(function(n){t[n]=e[n]}),t)}function r(t,e){return kt.call(t,e)}function i(t,e){"function"==typeof e&&(e=e(xt(t))),yt(e).forEach(function(n){o(t,n,e[n])})}function o(t,e,i,o){Ot(t,e,n(i&&r(i,"get")&&"function"==typeof i.get?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function a(t){return{from:function(e){return t.prototype=Object.create(e.prototype),o(t.prototype,"constructor",t),{extend:i.bind(null,t.prototype)}}}}function s(t,e,n){return jt.call(t,e,n)}function u(t,e){return e(t)}function c(t){if(!t)throw new Error("Assertion Failed")}function l(t){_t.setImmediate?setImmediate(t):setTimeout(t,0)}function f(t,e){return t.reduce(function(t,n,r){var i=e(n,r);return i&&(t[i[0]]=i[1]),t},{})}function h(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function p(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}function d(t,e){if(r(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],i=0,o=e.length;i<o;++i){var a=d(t,e[i]);n.push(a)}return n}var s=e.indexOf(".");if(-1!==s){var u=t[e.substr(0,s)];return void 0===u?void 0:d(u,e.substr(s+1))}}function v(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){c("string"!=typeof n&&"length"in n);for(var r=0,i=e.length;r<i;++r)v(t,e[r],n[r])}else{var o=e.indexOf(".");if(-1!==o){var a=e.substr(0,o),s=e.substr(o+1);if(""===s)void 0===n?delete t[a]:t[a]=n;else{var u=t[a];u||(u=t[a]={}),v(u,s,n)}}else void 0===n?delete t[e]:t[e]=n}}function g(t){var e={};for(var n in t)r(t,n)&&(e[n]=t[n]);return e}function m(t){return Ct.apply([],t)}function b(t){if(!t||"object"!=typeof t)return t;var e;if(wt(t)){e=[];for(var n=0,i=t.length;n<i;++n)e.push(b(t[n]))}else if(At.indexOf(t.constructor)>=0)e=t;else for(var o in e=t.constructor?Object.create(t.constructor.prototype):{},t)r(t,o)&&(e[o]=b(t[o]));return e}function y(t,e,n,i){return n=n||{},i=i||"",yt(t).forEach(function(o){if(r(e,o)){var a=t[o],s=e[o];"object"==typeof a&&"object"==typeof s&&a&&s&&""+a.constructor==""+s.constructor?y(a,s,n,i+o+"."):a!==s&&(n[i+o]=e[o])}else n[i+o]=void 0}),yt(e).forEach(function(o){r(t,o)||(n[i+o]=e[o])}),n}function w(t){var e,n,r,i;if(1===arguments.length){if(wt(t))return t.slice();if(this===It&&"string"==typeof t)return[t];if(i=Pt(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}function _(t,e){Tt=t,Rt=e}function x(){if(Dt)try{throw new Error}catch(t){return t}return new Error}function k(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(Rt).map(function(t){return"\n"+t}).join("")):""}function O(t,e){this._e=x(),this.name=t,this.message=e}function S(t,e,n,r){this._e=x(),this.failures=e,this.failedKeys=r,this.successCount=n}function j(t,e){this._e=x(),this.name="BulkError",this.failures=e,this.message=function(t,e){return t+". Errors: "+e.map(function(t){return t.toString()}).filter(function(t,e,n){return n.indexOf(t)===e}).join("\n")}(t,e)}function C(){}function A(t){return t}function E(t,e){return null==t||t===A?e:function(n){return e(t(n))}}function P(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function I(t,e){return t===C?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?P(r,this.onsuccess):r),i&&(this.onerror=this.onerror?P(i,this.onerror):i),void 0!==o?o:n}}function T(t,e){return t===C?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?P(n,this.onsuccess):n),r&&(this.onerror=this.onerror?P(r,this.onerror):r)}}function R(t,e){return t===C?e:function(r){var i=t.apply(this,arguments);n(r,i);var o=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?P(o,this.onsuccess):o),a&&(this.onerror=this.onerror?P(a,this.onerror):a),void 0===i?void 0===s?void 0:s:n(i,s)}}function D(t,e){return t===C?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function N(t,e){return t===C?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}function M(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=C,this._lib=!1;var e=this._PSD=le;if(Tt&&(this._stackHolder=x(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==zt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&U(this,this._value))}this._state=null,this._value=null,++e.ref,function t(e,n){try{n(function(n){if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&q();n&&"function"==typeof n.then?t(e,function(t,e){n instanceof M?n._then(t,e):n.then(t,e)}):(e._state=!0,e._value=n,$(e)),r&&V()}},U.bind(null,e))}catch(t){U(e,t)}}(this,t)}function L(t,e,n,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=i}function U(t,e){if(ae.push(e),null===t._state){var n=t._lib&&q();e=ue(e),t._state=!1,t._value=e,Tt&&null!==e&&"object"==typeof e&&!e._promise&&p(function(){var n=function t(e,n){var r;return St(e,n)||(r=xt(e))&&t(r,n)}(e,"stack");e._promise=t,o(e,"stack",{get:function(){return te?n&&(n.get?n.get.apply(e):n.value):t.stack}})}),function(t){oe.some(function(e){return e._value===t._value})||oe.push(t)}(t),$(t),n&&V()}}function $(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)B(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),0===he&&(++he,ne(function(){0==--he&&W()},[]))}function B(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++he,ne(F,[n,t,e])}else t._listeners.push(e)}function F(t,e,n){try{se=e;var r,i=e._value;e._state?r=t(i):(ae.length&&(ae=[]),r=t(i),-1===ae.indexOf(i)&&function(t){var e=oe.length;for(;e;)if(oe[--e]._value===t._value)return void oe.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{se=null,0==--he&&W(),--n.psd.ref||n.psd.finalize()}}function K(t,e){var n=e?e._numPrev+1:0;n<qt&&(t._prev=e,t._numPrev=n)}function z(){q()&&V()}function q(){var t=re;return re=!1,ie=!1,t}function V(){var t,e,n;do{for(;fe.length>0;)for(t=fe,fe=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(fe.length>0);re=!0,ie=!0}function W(){var t=oe;oe=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=pe.slice(0),n=e.length;n;)e[--n]()}function Z(t){return new M(zt,!1,t)}function Q(t,e){var n=le;return function(){var r=q(),i=le;try{return tt(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{tt(i,!1),r&&V()}}}function H(t,e,r,i){var o=le,a=Object.create(o);a.parent=o,a.ref=0,a.global=!1,a.id=++_e;var s=ce.env;a.env=Xt?{Promise:M,PromiseProp:{value:M,configurable:!0,writable:!0},all:M.all,race:M.race,resolve:M.resolve,reject:M.reject,nthen:it(s.nthen,a),gthen:it(s.gthen,a)}:{},e&&n(a,e),++o.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=nt(a,t,r,i);return 0===a.ref&&a.finalize(),u}function Y(){return ge.id||(ge.id=++me),++ge.awaits,ge.echoes+=Vt,ge.id}function G(t){!ge.awaits||t&&t!==ge.id||(0==--ge.awaits&&(ge.id=0),ge.echoes=ge.awaits*Vt)}function J(t){return ge.echoes&&t&&t.constructor===Gt?(Y(),t.then(function(t){return G(),t},function(t){return G(),ke(t)})):t}function X(){var t=be[be.length-1];be.pop(),tt(t,!1)}function tt(t,e){var n,r=le;if((e?!ge.echoes||ye++&&t===le:!ye||--ye&&t===le)||(n=e?function(t){++we,ge.echoes&&0!=--ge.echoes||(ge.echoes=ge.id=0),be.push(le),tt(t,!0)}.bind(null,t):X,Yt.call(Zt,n)),t!==le&&(le=t,r===ce&&(ce.env=et()),Xt)){var i=ce.env.Promise,o=t.env;Qt.then=o.nthen,i.prototype.then=o.gthen,(r.global||t.global)&&(Object.defineProperty(_t,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject)}}function et(){var t=_t.Promise;return Xt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(_t,"Promise"),all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:Qt.then,gthen:t.prototype.then}:{}}function nt(t,e,n,r,i){var o=le;try{return tt(t,!0),e(n,r,i)}finally{tt(o,!1)}}function rt(t,e,n){return"function"!=typeof t?t:function(){var r=le;n&&Y(),tt(e,!0);try{return t.apply(this,arguments)}finally{tt(r,!1)}}}function it(t,e){return function(n,r){return t.call(this,rt(n,e,!1),rt(r,e,!1))}}function ot(t,e){var r;try{r=e.onuncatched(t)}catch(t){}if(!1!==r)try{var i,o={promise:e,reason:t};if(_t.document&&document.createEvent?((i=document.createEvent("Event")).initEvent(xe,!0,!0),n(i,o)):_t.CustomEvent&&n(i=new CustomEvent(xe,{detail:o}),o),i&&_t.dispatchEvent&&(dispatchEvent(i),!_t.PromiseRejectionEvent&&_t.onunhandledrejection))try{_t.onunhandledrejection(i)}catch(t){}i.defaultPrevented||console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}function at(t){function e(t,i,o){if("object"!=typeof t){var a;i||(i=D),o||(o=C);var s={subscribers:[],fire:o,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=i(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter(function(e){return e!==t}),s.fire=s.subscribers.reduce(i,o)}};return n[t]=r[t]=s,s}yt(a=t).forEach(function(t){var n=a[t];if(wt(n))e(t,a[t][0],a[t][1]);else{if("asap"!==n)throw new Bt.InvalidArgument("Invalid event config");var r=e(t,A,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach(function(t){l(function(){t.apply(null,e)})})})}})}var n={},r=function(e,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return n[e].subscribe.apply(null,o),t}if("string"==typeof e)return n[e]};r.addEventType=e;for(var i=1,o=arguments.length;i<o;++i)e(arguments[i]);return r}function st(t,e){function a(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function l(t,e,n){var r=Vt._createTransaction(qt,Mt,Dt);r.create(e),r._completion.catch(n);var i=r._reject.bind(r);H(function(){le.trans=r,0===t?(yt(Dt).forEach(function(t){_(e,t,Dt[t].primKey,Dt[t].indexes)}),M.follow(function(){return Vt.on.populate.fire(r)}).catch(i)):function(t,e,n){var r=[],i=Nt.filter(function(e){return e._cfg.version===t})[0];if(!i)throw new Bt.Upgrade("Dexie specification of currently installed DB version is missing");Dt=Vt._dbSchema=i._cfg.dbschema;var o=!1;return Nt.filter(function(e){return e._cfg.version>t}).forEach(function(t){r.push(function(){var r=Dt,i=t._cfg.dbschema;rt(r,n),rt(i,n),Dt=Vt._dbSchema=i;var a=function(t,e){var n={del:[],add:[],change:[]};for(var r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],o=e[r];if(i){var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,u=o.idxByName;for(var c in s)u[c]||a.del.push(c);for(c in u){var l=s[c],f=u[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}(r,i);if(a.add.forEach(function(t){_(n,t[0],t[1].primKey,t[1].indexes)}),a.change.forEach(function(t){if(t.recreate)throw new Bt.Upgrade("Not yet support for changing primary key");var e=n.objectStore(t.name);t.add.forEach(function(t){O(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),O(e,t)}),t.del.forEach(function(t){e.deleteIndex(t)})}),t._cfg.contentUpgrade)return o=!0,M.follow(function(){t._cfg.contentUpgrade(e)})}),r.push(function(e){o&&Ie||function(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var r=e.db.objectStoreNames[n];null==t[r]&&e.db.deleteObjectStore(r)}}(t._cfg.dbschema,e)})}),function t(){return r.length?M.resolve(r.shift()(e.idbtrans)).then(t):M.resolve()}().then(function(){!function(t,e){yt(t).forEach(function(n){e.db.objectStoreNames.contains(n)||_(e,n,t[n].primKey,t[n].indexes)})}(Dt,n)})}(t,r,e).catch(i)})}function _(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(t){O(i,t)}),i}function O(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function P(t,e,n){this.name=t,this.schema=e,this._tx=n,this.hook=Lt[t]?Lt[t].hook:at(null,{creating:[I,C],reading:[E,A],updating:[R,C],deleting:[T,C]})}function D(t,e,n){return(n?ht:lt)(function(n){t.push(n),e&&e()})}function L(t,e,n,r,i){return new M(function(o,a){var s=n.length,u=s-1;if(0===s)return o();if(r){var c,l=ht(a),f=ct(null);p(function(){for(var r=0;r<s;++r){var a=n[r];i.call(c={onsuccess:null,onerror:null},a[0],a[1],e);var h=t.delete(a[0]);h._hookCtx=c,h.onerror=l,h.onsuccess=r===u?ct(o):f}},function(t){throw c.onerror&&c.onerror(t),t})}else for(var h=0;h<s;++h){var d=t.delete(n[h]);d.onerror=lt(a),h===u&&(d.onsuccess=Q(function(){return o()}))}})}function U(t,e,n,r){var i=this;this.db=Vt,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=at(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new M(function(t,e){i._resolve=t,i._reject=e}),this._completion.then(function(){i.active=!1,i.on.complete.fire()},function(t){var e=i.active;return i.active=!1,i.on.error.fire(t),i.parent?i.parent._reject(t):e&&i.idbtrans&&i.idbtrans.abort(),ke(t)})}function $(t,e,n){this._ctx={table:t,index:":id"===e?null:e,or:n}}function B(t,e){var n=null,r=null;if(e)try{n=e()}catch(t){r=t}var i=t._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function F(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function K(t,e){return t._cfg.version-e._cfg.version}function z(t,e,n){e.forEach(function(e){var r=n[e];t.forEach(function(t){e in t||(t===U.prototype||t instanceof U?o(t,e,{get:function(){return this.table(e)}}):t[e]=new P(e,r))})})}function q(t,e,n,r,i,o){var a=Q(o?function(t,e,r){return n(o(t),e,r)}:n,i);t.onerror||(t.onerror=lt(i)),t.onsuccess=h(e?function(){var n=t.result;if(n){var o=function(){n.continue()};e(n,function(t){o=t},r,i)&&a(n.value,n,function(t){o=t}),o()}else r()}:function(){var e=t.result;if(e){var n=function(){e.continue()};a(e.value,e,function(t){n=t}),n()}else r()},i)}function V(t,e){return Pt.cmp(t,e)}function W(t,e){return V(t,e)>0?t:e}function Z(t,e){return Pt.cmp(t,e)}function J(t,e){return Pt.cmp(e,t)}function X(t,e){return t<e?-1:t===e?0:1}function tt(t,e){return t>e?-1:t===e?0:1}function et(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function rt(t,e){for(var n=e.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],o=e.objectStore(i);kt="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var u=o.indexNames[a],c=o.index(u).keyPath,l="string"==typeof c?c:"["+s(c).join("+")+"]";if(t[i]){var f=t[i].idxByName[l];f&&(f.name=u)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&_t.WorkerGlobalScope&&_t instanceof _t.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(kt=!1)}function it(t){Vt.on("blocked").fire(t),Ee.filter(function(t){return t.name===Vt.name&&t!==Vt&&!t._vcFired}).map(function(e){return e.on("versionchange").fire(t)})}var ot,xt,kt,Ot,St,jt=st.dependencies,Ct=n({addons:st.addons,autoOpen:!0,indexedDB:jt.indexedDB,IDBKeyRange:jt.IDBKeyRange},e),At=Ct.addons,Et=Ct.autoOpen,Pt=Ct.indexedDB,Rt=Ct.IDBKeyRange,Dt=this._dbSchema={},Nt=[],Mt=[],Lt={},Ut=null,$t=null,Ft=!1,Kt=null,zt=!1,qt="readwrite",Vt=this,Wt=new M(function(t){ot=t}),Zt=new M(function(t,e){xt=e}),Qt=!0,Ht=!!bt(Pt);this.version=function(t){if(Ut||Ft)throw new Bt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=Nt.filter(function(e){return e._cfg.version===t})[0];return e||(e=new a(t),Nt.push(e),Nt.sort(K),Qt=!1,e)},n(a.prototype,{stores:function(t){this._cfg.storesSource=this._cfg.storesSource?n(this._cfg.storesSource,t):t;var e={};Nt.forEach(function(t){n(e,t._cfg.storesSource)});var r=this._cfg.dbschema={};return this._parseStoresSpec(e,r),Dt=Vt._dbSchema=r,[Lt,Vt,U.prototype].forEach(function(t){for(var e in t)t[e]instanceof P&&delete t[e]}),z([Lt,Vt,U.prototype,this._cfg.tables],yt(r),r),Mt=yt(r),this},upgrade:function(t){return this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){yt(t).forEach(function(n){if(null!==t[n]){var r={},i=function(t){var e=[];return t.split(",").forEach(function(t){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;e.push(new vt(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),wt(r),/\./.test(t)))}),e}(t[n]),o=i.shift();if(o.multi)throw new Bt.Schema("Primary key cannot be multi-valued");o.keyPath&&v(r,o.keyPath,o.auto?0:o.keyPath),i.forEach(function(t){if(t.auto)throw new Bt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Bt.Schema("Index must have a name and cannot be an empty string");v(r,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),e[n]=new gt(n,o,i,r)}})}}),this._allTables=Lt,this._createTransaction=function(t,e,n,r){return new U(t,e,n,r)},this._whenReady=function(t){return zt||le.letThrough?t():new M(function(t,e){if(!Ft){if(!Et)return void e(new Bt.DatabaseClosed);Vt.open().catch(C)}Wt.then(t,e)}).then(t)},this.verno=0,this.open=function(){if(Ft||Ut)return Wt.then(function(){return $t?ke($t):Vt});Tt&&(Zt._stackHolder=x()),Ft=!0,$t=null,zt=!1;var e=ot,n=null;return M.race([Zt,new M(function(e,r){if(!Pt)throw new Bt.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=Qt?Pt.open(t):Pt.open(t,Math.round(10*Vt.verno));if(!i)throw new Bt.MissingAPI("IndexedDB API not available");i.onerror=lt(r),i.onblocked=Q(it),i.onupgradeneeded=Q(function(e){if(n=i.transaction,Qt&&!Vt._allowEmptyDB){i.onerror=pt,n.abort(),i.result.close();var o=Pt.deleteDatabase(t);o.onsuccess=o.onerror=Q(function(){r(new Bt.NoSuchDatabase("Database "+t+" doesnt exist"))})}else{n.onerror=lt(r),l((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,n,r)}},r),i.onsuccess=Q(function(){if(n=null,Ut=i.result,Ee.push(Vt),Qt)!function(){if(Vt.verno=Ut.version/10,Vt._dbSchema=Dt={},0!==(Mt=s(Ut.objectStoreNames,0)).length){var t=Ut.transaction(mt(Mt),"readonly");Mt.forEach(function(e){for(var n=t.objectStore(e),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new vt(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),a=[],s=0;s<n.indexNames.length;++s){var u=n.index(n.indexNames[s]);i=(r=u.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var c=new vt(u.name,r,!!u.unique,!!u.multiEntry,!1,r&&"string"!=typeof r,i);a.push(c)}Dt[e]=new gt(e,o,a,{})}),z([Lt],yt(Dt),Dt)}}();else if(Ut.objectStoreNames.length>0)try{rt(Dt,Ut.transaction(mt(Ut.objectStoreNames),"readonly"))}catch(t){}Ut.onversionchange=Q(function(t){Vt._vcFired=!0,Vt.on("versionchange").fire(t)}),Ht||"__dbnames"===t||ve.dbnames.put({name:t}).catch(C),e()},r)})]).then(function(){return Kt=[],M.resolve(st.vip(Vt.on.ready.fire)).then(function t(){if(Kt.length>0){var e=Kt.reduce(N,C);return Kt=[],M.resolve(st.vip(e)).then(t)}})}).finally(function(){Kt=null}).then(function(){return Ft=!1,Vt}).catch(function(t){try{n&&n.abort()}catch(t){}return Ft=!1,Vt.close(),ke($t=t)}).finally(function(){zt=!0,e()})},this.close=function(){var t=Ee.indexOf(Vt);if(t>=0&&Ee.splice(t,1),Ut){try{Ut.close()}catch(t){}Ut=null}Et=!1,$t=new Bt.DatabaseClosed,Ft&&xt($t),Wt=new M(function(t){ot=t}),Zt=new M(function(t,e){xt=e})},this.delete=function(){var e=arguments.length>0;return new M(function(n,r){function i(){Vt.close();var e=Pt.deleteDatabase(t);e.onsuccess=Q(function(){Ht||ve.dbnames.delete(t).catch(C),n()}),e.onerror=lt(r),e.onblocked=it}if(e)throw new Bt.InvalidArgument("Arguments not allowed in db.delete()");Ft?Wt.then(i):i()})},this.backendDB=function(){return Ut},this.isOpen=function(){return null!==Ut},this.hasBeenClosed=function(){return $t&&$t instanceof Bt.DatabaseClosed},this.hasFailed=function(){return null!==$t},this.dynamicallyOpened=function(){return Qt},this.name=t,i(this,{tables:{get:function(){return yt(Lt).map(function(t){return Lt[t]})}}}),this.on=at(this,"populate","blocked","versionchange",{ready:[N,C]}),this.on.ready.subscribe=u(this.on.ready.subscribe,function(t){return function(e,n){st.vip(function(){zt?($t||M.resolve().then(e),n&&t(e)):Kt?(Kt.push(e),n&&t(e)):(t(e),n||t(function t(){Vt.on.ready.unsubscribe(e),Vt.on.ready.unsubscribe(t)}))})}}),this.transaction=function(){var t=function(t,e,n){var r=arguments.length;if(r<2)throw new Bt.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,m(i),n]}.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,e,n){function r(){return M.resolve().then(function(){var e,r=le.transless||le,o=Vt._createTransaction(t,a,Dt,i),s={trans:o,transless:r};i?o.idbtrans=i.idbtrans:o.create(),n.constructor===Jt&&Y();var u=M.follow(function(){if(e=n.call(o,o))if(e.constructor===Gt){var t=G.bind(null,null);e.then(t,t)}else"function"==typeof e.next&&"function"==typeof e.throw&&(e=dt(e))},s);return(e&&"function"==typeof e.then?M.resolve(e).then(function(t){return o.active?t:ke(new Bt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):u.then(function(){return e})).then(function(t){return i&&o._resolve(),o._completion.then(function(){return t})}).catch(function(t){return o._reject(t),ke(t)})})}var i=le.trans;i&&i.db===Vt&&-1===t.indexOf("!")||(i=null);var o=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{var a=e.map(function(t){var e=t instanceof P?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e});if("r"==t||"readonly"==t)t="readonly";else{if("rw"!=t&&t!=qt)throw new Bt.InvalidArgument("Invalid transaction mode: "+t);t=qt}if(i){if("readonly"===i.mode&&t===qt){if(!o)throw new Bt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(function(t){if(i&&-1===i.storeNames.indexOf(t)){if(!o)throw new Bt.SubTransaction("Table "+t+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(t){return i?i._promise(null,function(e,n){n(t)}):ke(t)}return i?i._promise(t,r,"lock"):le.trans?nt(le.transless,function(){return Vt._whenReady(r)}):Vt._whenReady(r)},this.table=function(t){if(!r(Lt,t))throw new Bt.InvalidTable("Table "+t+" does not exist");return Lt[t]},i(P.prototype,{_trans:function(t,e,n){var r=this._tx||le.trans;return r&&r.db===Vt?r===le.trans?r._promise(t,e,n):H(function(){return r._promise(t,e,n)},{trans:r,transless:le.transless||le}):function t(e,n,r){if(zt||le.letThrough){var i=Vt._createTransaction(e,n,Dt);try{i.create()}catch(t){return ke(t)}return i._promise(e,function(t,e){return H(function(){return le.trans=i,r(t,e,i)})}).then(function(t){return i._completion.then(function(){return t})})}if(!Ft){if(!Et)return ke(new Bt.DatabaseClosed);Vt.open().catch(C)}return Wt.then(function(){return t(e,n,r)})}(t,[this.name],e)},_idbstore:function(t,e,n){var r=this.name;return this._trans(t,function(t,n,i){if(-1===i.storeNames.indexOf(r))throw new Bt.NotFound("Table"+r+" not part of transaction");return e(t,n,i.idbtrans.objectStore(r),i)},n)},get:function(t,e){if(t&&t.constructor===Object)return this.where(t).first(e);var n=this;return this._idbstore("readonly",function(e,r,i){var o=i.get(t);o.onerror=lt(r),o.onsuccess=Q(function(){e(n.hook.reading.fire(o.result))},r)}).then(e)},where:function(t){if("string"==typeof t)return new $(this,t);if(wt(t))return new $(this,"["+t.join("+")+"]");var e=yt(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&e.every(function(e){return t.keyPath.indexOf(e)>=0})&&t.keyPath.every(function(t){return e.indexOf(t)>=0})})[0];if(n&&Se!==Oe)return this.where(n.name).equals(n.keyPath.map(function(e){return t[e]}));n||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var r=this.schema.idxByName,i=e.reduce(function(e,n){return[e[0]||r[n],e[0]||!r[n]?et(e[1],function(e){return""+d(e,n)==""+t[n]}):e[1]]},[null,null]),o=i[0];return o?this.where(o.name).equals(t[o.keyPath]).filter(i[1]):n?this.filter(i[1]):this.where(e).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new B(new $(this,wt(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new B(new $(this))},mapToClass:function(t,e){this.schema.mappedClass=t;var n=Object.create(t.prototype);e&&ut(n,e),this.schema.instanceTemplate=n;var i=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var i in e)if(r(e,i))try{n[i]=e[i]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=i,this.hook("reading",i),t},defineClass:function(t){return this.mapToClass(st.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===C?this._idbstore(qt,function(e,n,r,i){e(L(r,i,t,!1,C))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,e){var n=this;return this._idbstore(qt,function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!e)throw new Bt.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&e)throw new Bt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new Bt.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var a,s,u=function(t){0===c.length?r(t):i(new j(n.name+".bulkPut(): "+c.length+" of "+l+" operations failed",c))},c=[],l=t.length,h=n;if(n.hook.creating.fire===C&&n.hook.updating.fire===C){s=D(c);for(var p=0,v=t.length;p<v;++p)(a=e?o.put(t[p],e[p]):o.put(t[p])).onerror=s;a.onerror=D(c,u),a.onsuccess=ft(u)}else{var g=e||o.keyPath&&t.map(function(t){return d(t,o.keyPath)}),m=g&&f(g,function(e,n){return null!=e&&[e,t[n]]});(g?h.where(":id").anyOf(g.filter(function(t){return null!=t})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null}).catch(S,function(t){c=t.failures}).then(function(){for(var n=[],r=e&&[],i=g.length-1;i>=0;--i){var o=g[i];(null==o||m[o])&&(n.push(t[i]),e&&r.push(o),null!=o&&(m[o]=null))}return n.reverse(),e&&r.reverse(),h.bulkAdd(n,r)}).then(function(t){var e=g[g.length-1];return null!=e?e:t}):h.bulkAdd(t)).then(u).catch(j,function(t){c=c.concat(t.failures),u()}).catch(i)}},"locked")},bulkAdd:function(t,e){var n=this,r=this.hook.creating.fire;return this._idbstore(qt,function(i,o,a,s){function u(t){0===h.length?i(t):o(new j(n.name+".bulkAdd(): "+h.length+" of "+g+" operations failed",h))}if(!a.keyPath&&!n.schema.primKey.auto&&!e)throw new Bt.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&e)throw new Bt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new Bt.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return i();var c,l,f,h=[],g=t.length;if(r!==C){var m,y=a.keyPath;l=D(h,null,!0),f=ct(null),p(function(){for(var n=0,i=t.length;n<i;++n){m={onerror:null,onsuccess:null};var o=e&&e[n],u=t[n],h=e?o:y?d(u,y):void 0,p=r.call(m,h,u,s);null==h&&null!=p&&(y?v(u=b(u),y,p):o=p),(c=null!=o?a.add(u,o):a.add(u))._hookCtx=m,n<i-1&&(c.onerror=l,m.onsuccess&&(c.onsuccess=f))}},function(t){throw m.onerror&&m.onerror(t),t}),c.onerror=D(h,u,!0),c.onsuccess=ct(u)}else{l=D(h);for(var w=0,_=t.length;w<_;++w)(c=e?a.add(t[w],e[w]):a.add(t[w])).onerror=l;c.onerror=D(h,u),c.onsuccess=ft(u)}})},add:function(t,e){var n=this.hook.creating.fire;return this._idbstore(qt,function(r,i,o,a){var s={onsuccess:null,onerror:null};if(n!==C){var u=null!=e?e:o.keyPath?d(t,o.keyPath):void 0,c=n.call(s,u,t,a);null==u&&null!=c&&(o.keyPath?v(t,o.keyPath,c):e=c)}try{var l=null!=e?o.add(t,e):o.add(t);l._hookCtx=s,l.onerror=ht(i),l.onsuccess=ct(function(e){var n=o.keyPath;n&&v(t,n,e),r(e)})}catch(t){throw s.onerror&&s.onerror(t),t}})},put:function(t,e){var n=this;if(this.hook.creating.fire!==C||this.hook.updating.fire!==C){var r=this.schema.primKey.keyPath,i=void 0!==e?e:r&&d(t,r);return null==i?this.add(t):(t=b(t),this._trans(qt,function(){return n.where(":id").equals(i).modify(function(){this.value=t}).then(function(r){return 0===r?n.add(t,e):i})},"locked"))}return this._idbstore(qt,function(n,r,i){var o=void 0!==e?i.put(t,e):i.put(t);o.onerror=lt(r),o.onsuccess=Q(function(e){var r=i.keyPath;r&&v(t,r,e.target.result),n(o.result)})})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(qt,function(e,n,r){var i=r.delete(t);i.onerror=lt(n),i.onsuccess=Q(function(){e(i.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(qt,function(t,e,n){var r=n.clear();r.onerror=lt(e),r.onsuccess=Q(function(){t(r.result)})})},update:function(t,e){if("object"!=typeof e||wt(e))throw new Bt.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||wt(t))return this.where(":id").equals(t).modify(e);yt(e).forEach(function(n){v(t,n,e[n])});var n=d(t,this.schema.primKey.keyPath);return void 0===n?ke(new Bt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(e)}}),i(U.prototype,{_lock:function(){return c(!le.global),++this._reculock,1!==this._reculock||le.global||(le.lockOwnerFor=this),this},_unlock:function(){if(c(!le.global),0==--this._reculock)for(le.global||(le.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{nt(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&le.lockOwnerFor!==this},create:function(t){var e=this;if(!this.mode)return this;if(c(!this.idbtrans),!t&&!Ut)switch($t&&$t.name){case"DatabaseClosedError":throw new Bt.DatabaseClosed($t);case"MissingAPIError":throw new Bt.MissingAPI($t.message,$t);default:throw new Bt.OpenFailed($t)}if(!this.active)throw new Bt.TransactionInactive;return c(null===this._completion._state),(t=this.idbtrans=t||Ut.transaction(mt(this.storeNames),this.mode)).onerror=Q(function(n){pt(n),e._reject(t.error)}),t.onabort=Q(function(n){pt(n),e.active&&e._reject(new Bt.Abort(t.error)),e.active=!1,e.on("abort").fire(n)}),t.oncomplete=Q(function(){e.active=!1,e._resolve()}),this},_promise:function(t,e,n){var r=this;if(t===qt&&this.mode!==qt)return ke(new Bt.ReadOnly("Transaction is readonly"));if(!this.active)return ke(new Bt.TransactionInactive);if(this._locked())return new M(function(i,o){r._blockedFuncs.push([function(){r._promise(t,e,n).then(i,o)},le])});if(n)return H(function(){var t=new M(function(t,n){r._lock();var i=e(t,n,r);i&&i.then&&i.then(t,n)});return t.finally(function(){return r._unlock()}),t._lib=!0,t});var i=new M(function(t,n){var i=e(t,n,r);i&&i.then&&i.then(t,n)});return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var e=this._root();if(t=M.resolve(t),e._waitingFor)e._waitingFor=e._waitingFor.then(function(){return t});else{e._waitingFor=t,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var r=e._waitingFor;return new M(function(n,i){t.then(function(t){return e._waitingQueue.push(Q(n.bind(null,t)))},function(t){return e._waitingQueue.push(Q(i.bind(null,t)))}).finally(function(){e._waitingFor===r&&(e._waitingFor=null)})})},abort:function(){this.active&&this._reject(new Bt.Abort),this.active=!1},tables:{get:(Ot="Transaction.tables",St=function(){return Lt},function(){return console.warn(Ot+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+k(x(),1)),St.apply(this,arguments)})},table:function(t){var e=Vt.table(t);return new P(t,e.schema,this)}}),i($.prototype,function(){function t(t,e,n){var r=t instanceof $?new B(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function e(t){return new B(t,function(){return Rt.only("")}).limit(0)}function n(t,e,n,r,i,o){for(var a=Math.min(t.length,r.length),s=-1,u=0;u<a;++u){var c=e[u];if(c!==r[u])return i(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):i(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;i(t[u],c)<0&&(s=u)}return a<r.length&&"next"===o?t+n.substr(t.length):a<t.length&&"prev"===o?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function r(e,r,i,o){function a(t){s=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),u=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),c="next"===t?X:tt;var e=i.map(function(t){return{lower:u(t),upper:s(t)}}).sort(function(t,e){return c(t.lower,e.lower)});l=e.map(function(t){return t.upper}),f=e.map(function(t){return t.lower}),h=t,p="next"===t?"":o}var s,u,c,l,f,h,p,d=i.length;if(!i.every(function(t){return"string"==typeof t}))return t(e,Ae);a("next");var v=new B(e,function(){return Rt.bound(l[0],f[d-1]+o)});v._ondirectionchange=function(t){a(t)};var g=0;return v._addAlgorithm(function(t,e,i){var o=t.key;if("string"!=typeof o)return!1;var a=u(o);if(r(a,f,g))return!0;for(var s=null,v=g;v<d;++v){var m=n(o,a,l[v],f[v],c,h);null===m&&null===s?g=v+1:(null===s||c(s,m)>0)&&(s=m)}return e(null!==s?function(){t.continue(s+p)}:i),!1}),v}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return V(n,r)>0||0===V(n,r)&&(i||o)&&(!i||!o)?e(this):new B(this,function(){return Rt.bound(n,r,!i,!o)})}catch(e){return t(this,Ce)}},equals:function(t){return new B(this,function(){return Rt.only(t)})},above:function(t){return new B(this,function(){return Rt.lowerBound(t,!0)})},aboveOrEqual:function(t){return new B(this,function(){return Rt.lowerBound(t)})},below:function(t){return new B(this,function(){return Rt.upperBound(t,!0)})},belowOrEqual:function(t){return new B(this,function(){return Rt.upperBound(t)})},startsWith:function(e){return"string"!=typeof e?t(this,Ae):this.between(e,e+Oe,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):r(this,function(t,e){return 0===t.indexOf(e[0])},[t],Oe)},equalsIgnoreCase:function(t){return r(this,function(t,e){return t===e[0]},[t],"")},anyOfIgnoreCase:function(){var t=w.apply(It,arguments);return 0===t.length?e(this):r(this,function(t,e){return-1!==e.indexOf(t)},t,"")},startsWithAnyOfIgnoreCase:function(){var t=w.apply(It,arguments);return 0===t.length?e(this):r(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,Oe)},anyOf:function(){var n=w.apply(It,arguments),r=Z;try{n.sort(r)}catch(e){return t(this,Ce)}if(0===n.length)return e(this);var i=new B(this,function(){return Rt.bound(n[0],n[n.length-1])});i._ondirectionchange=function(t){n.sort(r="next"===t?Z:J)};var o=0;return i._addAlgorithm(function(t,e,i){for(var a=t.key;r(a,n[o])>0;)if(++o===n.length)return e(i),!1;return 0===r(a,n[o])||(e(function(){t.continue(n[o])}),!1)}),i},notEqual:function(t){return this.inAnyRange([[je,t],[t,Se]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=w.apply(It,arguments);if(0===e.length)return new B(this);try{e.sort(Z)}catch(e){return t(this,Ce)}var n=e.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[je,e]]},null);return n.push([e[e.length-1],Se]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){function i(t,e){return u(t[0],e[0])}if(0===n.length)return e(this);if(!n.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&Z(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Bt.InvalidArgument);var o,a=!r||!1!==r.includeLowers,s=r&&!0===r.includeUppers,u=Z;try{(o=n.reduce(function(t,e){for(var n=0,r=t.length;n<r;++n){var i=t[n];if(V(e[0],i[1])<0&&V(e[1],i[0])>0){i[0]=V(o=i[0],a=e[0])<0?o:a,i[1]=W(i[1],e[1]);break}}var o,a;return n===r&&t.push(e),t},[])).sort(i)}catch(e){return t(this,Ce)}var c=0,l=s?function(t){return Z(t,o[c][1])>0}:function(t){return Z(t,o[c][1])>=0},f=a?function(t){return J(t,o[c][0])>0}:function(t){return J(t,o[c][0])>=0},h=l,p=new B(this,function(){return Rt.bound(o[0][0],o[o.length-1][1],!a,!s)});return p._ondirectionchange=function(t){"next"===t?(h=l,u=Z):(h=f,u=J),o.sort(i)},p._addAlgorithm(function(t,e,n){for(var r=t.key;h(r);)if(++c===o.length)return e(n),!1;return!!function(t){return!l(t)&&!f(t)}(r)||0!==V(r,o[c][1])&&0!==V(r,o[c][0])&&(e(function(){t.continue(u===Z?o[c][0]:o[c][1])}),!1)}),p},startsWithAnyOf:function(){var n=w.apply(It,arguments);return n.every(function(t){return"string"==typeof t})?0===n.length?e(this):this.inAnyRange(n.map(function(t){return[t,t+Oe]})):t(this,"startsWithAnyOf() only works with strings")}}}),i(B.prototype,function(){function t(t,e){t.filter=et(t.filter,e)}function e(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return et(r(),e())}:e,t.justLimit=n&&!r}function i(t,e){if(t.isPrimKey)return e;var n=t.table.schema.idxByName[t.index];if(!n)throw new Bt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(n.name)}function o(t,e){var n=i(t,e);return t.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(t.range||null,t.dir+t.unique):n.openCursor(t.range||null,t.dir+t.unique)}function a(t,e,n,i,a){var s=t.replayFilter?et(t.filter,t.replayFilter()):t.filter;t.or?function(){function u(){2==++f&&n()}function c(t,n,o){if(!s||s(n,o,u,i)){var a=n.primaryKey,c=""+a;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(a)),r(l,c)||(l[c]=!0,e(t,n,o))}}var l={},f=0;t.or._iterate(c,u,i,a),q(o(t,a),t.algorithm,c,u,i,!t.keysOnly&&t.valueMapper)}():q(o(t,a),et(t.algorithm,s),e,n,i,!t.keysOnly&&t.valueMapper)}return{_read:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,ke.bind(null,n.error)):n.table._idbstore("readonly",t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,ke.bind(null,e.error)):e.table._idbstore(qt,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=et(e.algorithm,t)},_iterate:function(t,e,n,r){return a(this._ctx,t,e,n,r)},clone:function(t){var e=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&n(r,t),e._ctx=r,e},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;return this._read(function(n,r,i){a(e,t,n,r,i)})},count:function(t){var e=this._ctx;if(F(e,!0))return this._read(function(t,n,r){var o=i(e,r),a=e.range?o.count(e.range):o.count();a.onerror=lt(n),a.onsuccess=function(n){t(Math.min(n.target.result,e.limit))}},t);var n=0;return this._read(function(t,r,i){a(e,function(){return++n,!1},function(){t(n)},r,i)},t)},sortBy:function(t,e){function n(t,e){return e?n(t[i[e]],e-1):t[o]}function r(t,e){var r=n(t,a),i=n(e,a);return r<i?-s:r>i?s:0}var i=t.split(".").reverse(),o=i[0],a=i.length-1,s="next"===this._ctx.dir?1:-1;return this.toArray(function(t){return t.sort(r)}).then(e)},toArray:function(t){var e=this._ctx;return this._read(function(t,n,r){if(kt&&"next"===e.dir&&F(e,!0)&&e.limit>0){var o=e.table.hook.reading.fire,s=i(e,r),u=e.limit<1/0?s.getAll(e.range,e.limit):s.getAll(e.range);u.onerror=lt(n),u.onsuccess=ft(o===A?t:function(e){try{t(e.map(o))}catch(t){n(t)}})}else{var c=[];a(e,function(t){c.push(t)},function(){t(c)},n,r)}},t)},offset:function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,F(n)?e(n,function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n(function(){t.advance(e),e=0}),!1))}}):e(n,function(){var e=t;return function(){return--e<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),e(this._ctx,function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}},!0),this},until:function(e,n){return t(this._ctx,function(t,r,i){return!e(t.value)||(r(i),n)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(e){return t(this._ctx,function(t){return e(t.value)}),function(t,e){t.isMatch=et(t.isMatch,e)}(this._ctx,e),this},and:function(t){return this.filter(t)},or:function(t){return new $(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)},primaryKeys:function(t){var e=this._ctx;if(kt&&"next"===e.dir&&F(e,!0)&&e.limit>0)return this._read(function(t,n,r){var o=i(e,r),a=e.limit<1/0?o.getAllKeys(e.range,e.limit):o.getAllKeys(e.range);a.onerror=lt(n),a.onsuccess=ft(t)}).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.primaryKey)}).then(function(){return n}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var i={};return t(this._ctx,function(t){var e=t.primaryKey.toString(),n=r(i,e);return i[e]=!0,!n}),this},modify:function(t){var e=this,i=this._ctx.table.hook,o=i.updating.fire,a=i.deleting.fire;return this._write(function(i,s,u,c){function l(t){return t&&(j.push(t),A.push(E)),s(new S("Error modifying one or more objects",j,k,A))}function f(){O&&k+j.length===x&&(j.length>0?l():i(k))}var h;if("function"==typeof t)h=o===C&&a===C?t:function(e){var n=b(e);if(!1===t.call(this,e,this))return!1;if(r(this,"value")){var i=y(n,this.value),s=o.call(this,i,this.primKey,n,c);s&&(e=this.value,yt(s).forEach(function(t){v(e,t,s[t])}))}else a.call(this,this.primKey,e,c)};else if(o===C){var m=yt(t),w=m.length;h=function(e){for(var n=!1,r=0;r<w;++r){var i=m[r],o=t[i];d(e,i)!==o&&(v(e,i,o),n=!0)}return n}}else{var _=t;t=g(_),h=function(e){var r=!1,i=o.call(this,t,this.primKey,b(e),c);return i&&n(t,i),yt(t).forEach(function(n){var i=t[n];d(e,n)!==i&&(v(e,n,i),r=!0)}),i&&(t=g(_)),r}}var x=0,k=0,O=!1,j=[],A=[],E=null;e.clone().raw()._iterate(function(t,e){function n(t){return j.push(t),A.push(i.primKey),f(),!0}E=e.primaryKey;var i={primKey:e.primaryKey,value:t,onsuccess:null,onerror:null};if(!1!==h.call(i,t,i)){var o=!r(i,"value");++x,p(function(){var t=o?e.delete():e.update(i.value);t._hookCtx=i,t.onerror=ht(n),t.onsuccess=ct(function(){++k,f()})},n)}else i.onsuccess&&i.onsuccess(i.value)},function(){O=!0,f()},l,u)})},delete:function(){var t=this,e=this._ctx,n=e.range,r=e.table.hook.deleting.fire,i=r!==C;if(!i&&F(e)&&(e.isPrimKey&&!Te||!n))return this._write(function(t,e,r){var i=lt(e),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var a=o.result;p(function(){var e=n?r.delete(n):r.clear();e.onerror=i,e.onsuccess=function(){return t(a)}},function(t){return e(t)})}});var o=i?2e3:1e4;return this._write(function(n,a,s,u){var c=0,l=t.clone({keysOnly:!e.isMatch&&!i}).distinct().limit(o).raw(),f=[];n(function t(){return l.each(i?function(t,e){f.push([e.primaryKey,e.value])}:function(t,e){f.push(e.primaryKey)}).then(function(){return f.sort(i?function(t,e){return Z(t[0],e[0])}:Z),L(s,u,f,i,r)}).then(function(){var e=f.length;return c+=e,f=[],e<o?c:t()})}())})}}}),n(this,{Collection:B,Table:P,Transaction:U,Version:a,WhereClause:$}),Vt.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+Vt.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Vt.name+"'. Closing db now to resume the delete request."),Vt.close()}),Vt.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+Vt.name+"') was blocked"):console.warn("Upgrade '"+Vt.name+"' blocked by other connection holding version "+t.oldVersion/10)}),At.forEach(function(t){t(Vt)})}function ut(t,e){return yt(e).forEach(function(n){var r=function t(e){if("function"==typeof e)return new e;if(wt(e))return[t(e[0])];if(e&&"object"==typeof e){var n={};return ut(n,e),n}return e}(e[n]);t[n]=r}),t}function ct(t){return Q(function(e){var n=e.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),t&&t(i)},t)}function lt(t){return Q(function(e){return pt(e),t(e.target.error),!1})}function ft(t){return Q(function(e){t(e.target.result)})}function ht(t){return Q(function(e){var n=e.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),pt(e),t(r),!1})}function pt(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function dt(t){function e(t){return function(e){var n=t(e),o=n.value;return n.done?o:o&&"function"==typeof o.then?o.then(r,i):wt(o)?M.all(o).then(r,i):r(o)}}var n=function(e){return t.next(e)},r=e(n),i=e(function(e){return t.throw(e)});return e(n)()}function vt(t,e,n,r,i,o,a){this.name=t,this.keyPath=e,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=a;var s="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+s}function gt(t,e,n,r){this.name=t,this.primKey=e||new vt,this.indexes=n||[new vt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=f(n,function(t){return[t.name,t]})}function mt(t){return 1===t.length?t[0]:t}function bt(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}var yt=Object.keys,wt=Array.isArray,_t="undefined"!=typeof self?self:"undefined"!=typeof window?window:t,xt=Object.getPrototypeOf,kt={}.hasOwnProperty,Ot=Object.defineProperty,St=Object.getOwnPropertyDescriptor,jt=[].slice,Ct=[].concat,At="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(m([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return _t[t]}).map(function(t){return _t[t]}),Et="undefined"!=typeof Symbol&&Symbol.iterator,Pt=Et?function(t){var e;return null!=t&&(e=t[Et])&&e.apply(t)}:function(){return null},It={},Tt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Rt=function(){return!0},Dt=!new Error("").stack,Nt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Nt),Lt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};a(O).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+k(this._e,2))}},toString:function(){return this.name+": "+this.message}}),a(S).from(O),a(j).from(O);var Ut=Mt.reduce(function(t,e){return t[e]=e+"Error",t},{}),$t=O,Bt=Mt.reduce(function(t,e){function n(t,n){this._e=x(),this.name=r,t?"string"==typeof t?(this.message=t,this.inner=n||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Lt[e]||r,this.inner=null)}var r=e+"Error";return a(n).from($t),t[e]=n,t},{});Bt.Syntax=SyntaxError,Bt.Type=TypeError,Bt.Range=RangeError;var Ft=Nt.reduce(function(t,e){return t[e+"Error"]=Bt[e],t},{}),Kt=Mt.reduce(function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Bt[e]),t},{});Kt.ModifyError=S,Kt.DexieError=O,Kt.BulkError=j;var zt={},qt=100,Vt=7,Wt=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var t=_t.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),Zt=Wt[0],Qt=Wt[1],Ht=Wt[2],Yt=Qt&&Qt.then,Gt=Zt&&Zt.constructor,Jt=Wt[3],Xt=!!Ht,te=!1,ee=Ht?function(){Ht.then(z)}:_t.setImmediate?setImmediate.bind(null,z):_t.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){z(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(z,0)},ne=function(t,e){fe.push([t,e]),ie&&(ee(),ie=!1)},re=!0,ie=!0,oe=[],ae=[],se=null,ue=A,ce={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ot,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{ot(t[0],t[1])}catch(t){}})}},le=ce,fe=[],he=0,pe=[],de={get:function(){function t(t,r){var i=this,o=!e.global&&(e!==le||n!==we);o&&G();var a=new M(function(n,a){B(i,new L(rt(t,e,o),rt(r,e,o),n,a,e))});return Tt&&K(a,this),a}var e=le,n=we;return t.prototype=zt,t},set:function(t){o(this,"then",t&&t.prototype===zt?de:{get:function(){return t},set:de.set})}};i(M.prototype,{then:de,_then:function(t,e){B(this,new L(null,null,t,e,le))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return this.then(null,"function"==typeof e?function(t){return t instanceof e?n(t):Z(t)}:function(t){return t&&t.name===e?n(t):Z(t)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Z(e)})},stack:{get:function(){if(this._stack)return this._stack;try{te=!0;var t=function t(e,n,r){if(n.length===r)return n;var i="";if(!1===e._state){var o,a,s=e._value;null!=s?(o=s.name||"Error",a=s.message||s,i=k(s,0)):(o=s,a=""),n.push(o+(a?": "+a:"")+i)}return Tt&&((i=k(e._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),e._prev&&t(e._prev,n,r)),n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{te=!1}}},timeout:function(t,e){var n=this;return t<1/0?new M(function(r,i){var o=setTimeout(function(){return i(new Bt.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&o(M.prototype,Symbol.toStringTag,"Promise"),ce.env=et(),i(M,{all:function(){var t=w.apply(null,arguments).map(J);return new M(function(e,n){0===t.length&&e([]);var r=t.length;t.forEach(function(i,o){return M.resolve(i).then(function(n){t[o]=n,--r||e(t)},n)})})},resolve:function(t){if(t instanceof M)return t;if(t&&"function"==typeof t.then)return new M(function(e,n){t.then(e,n)});var e=new M(zt,!0,t);return K(e,se),e},reject:Z,race:function(){var t=w.apply(null,arguments).map(J);return new M(function(e,n){t.map(function(t){return M.resolve(t).then(e,n)})})},PSD:{get:function(){return le},set:function(t){return le=t}},newPSD:H,usePSD:nt,scheduler:{get:function(){return ne},set:function(t){ne=t}},rejectionMapper:{get:function(){return ue},set:function(t){ue=t}},follow:function(t,e){return new M(function(n,r){return H(function(e,n){var r=le;r.unhandleds=[],r.onunhandled=n,r.finalize=P(function(){var t=this;!function(t){pe.push(function e(){t(),pe.splice(pe.indexOf(e),1)}),++he,ne(function(){0==--he&&W()},[])}(function(){0===t.unhandleds.length?e():n(t.unhandleds[0])})},r.finalize),t()},e,n,r)})}});var ve,ge={awaits:0,echoes:0,id:0},me=0,be=[],ye=0,we=0,_e=0,xe="unhandledrejection",ke=M.reject,Oe=String.fromCharCode(65535),Se=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return Oe}}(),je=-1/0,Ce="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ae="String expected.",Ee=[],Pe="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ie=Pe,Te=Pe,Re=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};_(Tt,Re),i(st,Kt),i(st,{delete:function(t){var e=new st(t),n=e.delete();return n.onblocked=function(t){return e.on("blocked",t),this},n},exists:function(t){return new st(t).open().then(function(t){return t.close(),!0}).catch(st.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){var e=bt(st.dependencies.indexedDB);return e?new M(function(t,n){var r=e();r.onsuccess=function(e){t(s(e.target.result,0))},r.onerror=lt(n)}).then(t):ve.dbnames.toCollection().primaryKeys(t)},defineClass:function(){return function(t){t&&n(this,t)}},applyStructure:ut,ignoreTransaction:function(t){return le.trans?nt(le.transless,t):t()},vip:function(t){return H(function(){return le.letThrough=!0,t()})},async:function(t){return function(){try{var e=dt(t.apply(this,arguments));return e&&"function"==typeof e.then?e:M.resolve(e)}catch(t){return ke(t)}}},spawn:function(t,e,n){try{var r=dt(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:M.resolve(r)}catch(t){return ke(t)}},currentTransaction:{get:function(){return le.trans||null}},waitFor:function(t,e){var n=M.resolve("function"==typeof t?st.ignoreTransaction(t):t).timeout(e||6e4);return le.trans?le.trans.waitFor(n):n},Promise:M,debug:{get:function(){return Tt},set:function(t){_(t,"dexie"===t?function(){return!0}:Re)}},derive:a,extend:n,props:i,override:u,Events:at,getByKeyPath:d,setByKeyPath:v,delByKeyPath:function(t,e){"string"==typeof e?v(t,e,void 0):"length"in e&&[].map.call(e,function(e){v(t,e,void 0)})},shallowClone:g,deepClone:b,getObjectDiff:y,asap:l,maxKey:Se,minKey:je,addons:[],connections:Ee,MultiModifyError:Bt.Modify,errnames:Ut,IndexSpec:vt,TableSchema:gt,dependencies:function(){try{return{indexedDB:_t.indexedDB||_t.mozIndexedDB||_t.webkitIndexedDB||_t.msIndexedDB,IDBKeyRange:_t.IDBKeyRange||_t.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)}),default:st,Dexie:st}),M.rejectionMapper=function(t,e){if(!t||t instanceof O||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Ft[t.name])return t;var n=new Ft[t.name](e||t.message,t);return"stack"in t&&o(n,"stack",{get:function(){return this.inner.stack}}),n},(ve=new st("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==_t.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(t){return ve.dbnames.put({name:t}).catch(C)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(t){}}(),e.a=st}).call(this,n("pCvA"))},fh8t:function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=n("4dxh"),o=n("d+Dk"),a=n("Ax1p");t.exports=function(t,e){var n,s=(e=e||{}).h||i.h;if("string"==typeof t)n=t,t={};else{if(!t||"string"!=typeof t.markdown)throw new Error("Invalid arguments. Markdown requires either a `<String>` or object: `{markdown: <String>}`");n=t.markdown}var u=t.markupOpts||e.markupOpts||{};return s(o,r({markup:a(n,t.markdownOpts||e.markdownOpts||{}),trim:!1,type:"html"},u))}},mdyV:function(t,e,n){"use strict";n.r(e);var r=n("4dxh"),i=function(t){return t&&t.default?t.default:t};if("serviceWorker"in navigator&&navigator.serviceWorker.register(n.p+"sw.js"),"function"==typeof i(n("QfWi"))){var o=document.body.firstElementChild;0,function(){var t=i(n("QfWi"));o=Object(r.render)(Object(r.h)(t),document.body,o)}()}},pCvA:function(t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e}});
//# sourceMappingURL=bundle.74232.js.map